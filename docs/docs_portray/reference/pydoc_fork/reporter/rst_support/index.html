
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.0">
    
    
      
        <title>Rst Support - pydoc_fork</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="lightgreen">
  
    
    <script>function __prefix(e){return new URL("../../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-pydoc_forkreporterrst_support" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="pydoc_fork" class="md-header__button md-logo" aria-label="pydoc_fork" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pydoc_fork
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Rst Support
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/matthewdeanmartin/pydoc_fork/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydoc_fork
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="pydoc_fork" class="md-nav__button md-logo" aria-label="pydoc_fork" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    pydoc_fork
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/matthewdeanmartin/pydoc_fork/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydoc_fork
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/CHANGES/" class="md-nav__link">
        Changes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/TODO/" class="md-nav__link">
        Todo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/feature_clusters/" class="md-nav__link">
        Feature Clusters
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/motivation/" class="md-nav__link">
        Motivation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/prior_art/" class="md-nav__link">
        Prior Art
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs/workflows/" class="md-nav__link">
        Workflows
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1" type="checkbox" id="__nav_10_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1">
          Pydoc Fork
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Pydoc Fork" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          Pydoc Fork
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/" class="md-nav__link">
        Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1_4" type="checkbox" id="__nav_10_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1_4">
          Inspector
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Inspector" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_1_4">
          <span class="md-nav__icon md-icon"></span>
          Inspector
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../inspector/custom_types/" class="md-nav__link">
        Custom Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../inspector/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../inspector/module_utils/" class="md-nav__link">
        Module Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../inspector/path_utils/" class="md-nav__link">
        Path Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../inspector/utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1_5" type="checkbox" id="__nav_10_1_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1_5">
          Reporter
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reporter" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_1_5">
          <span class="md-nav__icon md-icon"></span>
          Reporter
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../format_class/" class="md-nav__link">
        Format Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../format_data/" class="md-nav__link">
        Format Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../format_module/" class="md-nav__link">
        Format Module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../format_other/" class="md-nav__link">
        Format Other
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../format_page/" class="md-nav__link">
        Format Page
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../format_routine/" class="md-nav__link">
        Format Routine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../formatter_html/" class="md-nav__link">
        Formatter Html
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../html_repr_class/" class="md-nav__link">
        Html Repr Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../inline_styles/" class="md-nav__link">
        Inline Styles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jinja_code/" class="md-nav__link">
        Jinja Code
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Rst Support
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Rst Support
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rst_to_html" class="md-nav__link">
    rst_to_html
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#htmlfragmenttranslator" class="md-nav__link">
    HTMLFragmentTranslator
  </a>
  
    <nav class="md-nav" aria-label="HTMLFragmentTranslator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_meta" class="md-nav__link">
    add_meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#astext" class="md-nav__link">
    astext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attval" class="md-nav__link">
    attval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check_simple_list" class="md-nav__link">
    check_simple_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloak_email" class="md-nav__link">
    cloak_email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloak_mailto" class="md-nav__link">
    cloak_mailto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_text" class="md-nav__link">
    depart_Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_abbreviation" class="md-nav__link">
    depart_abbreviation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_acronym" class="md-nav__link">
    depart_acronym
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_address" class="md-nav__link">
    depart_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_admonition" class="md-nav__link">
    depart_admonition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_attribution" class="md-nav__link">
    depart_attribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_author" class="md-nav__link">
    depart_author
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_authors" class="md-nav__link">
    depart_authors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_block_quote" class="md-nav__link">
    depart_block_quote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_bullet_list" class="md-nav__link">
    depart_bullet_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_caption" class="md-nav__link">
    depart_caption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_citation" class="md-nav__link">
    depart_citation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_citation_reference" class="md-nav__link">
    depart_citation_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_classifier" class="md-nav__link">
    depart_classifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_colspec" class="md-nav__link">
    depart_colspec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_compound" class="md-nav__link">
    depart_compound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_contact" class="md-nav__link">
    depart_contact
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_container" class="md-nav__link">
    depart_container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_copyright" class="md-nav__link">
    depart_copyright
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_date" class="md-nav__link">
    depart_date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_decoration" class="md-nav__link">
    depart_decoration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_definition" class="md-nav__link">
    depart_definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_definition_list" class="md-nav__link">
    depart_definition_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_definition_list_item" class="md-nav__link">
    depart_definition_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_description" class="md-nav__link">
    depart_description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_docinfo" class="md-nav__link">
    depart_docinfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_docinfo_item" class="md-nav__link">
    depart_docinfo_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_doctest_block" class="md-nav__link">
    depart_doctest_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_document" class="md-nav__link">
    depart_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_emphasis" class="md-nav__link">
    depart_emphasis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_entry" class="md-nav__link">
    depart_entry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_enumerated_list" class="md-nav__link">
    depart_enumerated_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field" class="md-nav__link">
    depart_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field_body" class="md-nav__link">
    depart_field_body
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field_list" class="md-nav__link">
    depart_field_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field_name" class="md-nav__link">
    depart_field_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_figure" class="md-nav__link">
    depart_figure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_footer" class="md-nav__link">
    depart_footer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_footnote" class="md-nav__link">
    depart_footnote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_footnote_reference" class="md-nav__link">
    depart_footnote_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_generated" class="md-nav__link">
    depart_generated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_header" class="md-nav__link">
    depart_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_image" class="md-nav__link">
    depart_image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_inline" class="md-nav__link">
    depart_inline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_label" class="md-nav__link">
    depart_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_legend" class="md-nav__link">
    depart_legend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_line" class="md-nav__link">
    depart_line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_line_block" class="md-nav__link">
    depart_line_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_list_item" class="md-nav__link">
    depart_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_literal" class="md-nav__link">
    depart_literal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_literal_block" class="md-nav__link">
    depart_literal_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_math" class="md-nav__link">
    depart_math
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_math_block" class="md-nav__link">
    depart_math_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_meta" class="md-nav__link">
    depart_meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option" class="md-nav__link">
    depart_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_argument" class="md-nav__link">
    depart_option_argument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_group" class="md-nav__link">
    depart_option_group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_list" class="md-nav__link">
    depart_option_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_list_item" class="md-nav__link">
    depart_option_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_string" class="md-nav__link">
    depart_option_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_organization" class="md-nav__link">
    depart_organization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_paragraph" class="md-nav__link">
    depart_paragraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_problematic" class="md-nav__link">
    depart_problematic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_reference" class="md-nav__link">
    depart_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_revision" class="md-nav__link">
    depart_revision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_row" class="md-nav__link">
    depart_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_rubric" class="md-nav__link">
    depart_rubric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_section" class="md-nav__link">
    depart_section
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_sidebar" class="md-nav__link">
    depart_sidebar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_status" class="md-nav__link">
    depart_status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_strong" class="md-nav__link">
    depart_strong
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_subscript" class="md-nav__link">
    depart_subscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_subtitle" class="md-nav__link">
    depart_subtitle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_superscript" class="md-nav__link">
    depart_superscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_system_message" class="md-nav__link">
    depart_system_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_table" class="md-nav__link">
    depart_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_target" class="md-nav__link">
    depart_target
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_tbody" class="md-nav__link">
    depart_tbody
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_term" class="md-nav__link">
    depart_term
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_tgroup" class="md-nav__link">
    depart_tgroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_thead" class="md-nav__link">
    depart_thead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_title" class="md-nav__link">
    depart_title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_title_reference" class="md-nav__link">
    depart_title_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_topic" class="md-nav__link">
    depart_topic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_transition" class="md-nav__link">
    depart_transition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_version" class="md-nav__link">
    depart_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispatch_departure" class="md-nav__link">
    dispatch_departure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispatch_visit" class="md-nav__link">
    dispatch_visit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptytag" class="md-nav__link">
    emptytag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode" class="md-nav__link">
    encode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#footnote_backrefs" class="md-nav__link">
    footnote_backrefs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_compactable" class="md-nav__link">
    is_compactable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_class_on_child" class="md-nav__link">
    set_class_on_child
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_first_last" class="md-nav__link">
    set_first_last
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#should_be_compact_paragraph" class="md-nav__link">
    should_be_compact_paragraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starttag" class="md-nav__link">
    starttag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stylesheet_call" class="md-nav__link">
    stylesheet_call
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unimplemented_visit" class="md-nav__link">
    unimplemented_visit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unknown_departure" class="md-nav__link">
    unknown_departure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unknown_visit" class="md-nav__link">
    unknown_visit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_text" class="md-nav__link">
    visit_Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_abbreviation" class="md-nav__link">
    visit_abbreviation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_acronym" class="md-nav__link">
    visit_acronym
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_address" class="md-nav__link">
    visit_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_admonition" class="md-nav__link">
    visit_admonition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_attribution" class="md-nav__link">
    visit_attribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_author" class="md-nav__link">
    visit_author
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_authors" class="md-nav__link">
    visit_authors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_block_quote" class="md-nav__link">
    visit_block_quote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_bullet_list" class="md-nav__link">
    visit_bullet_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_caption" class="md-nav__link">
    visit_caption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_citation" class="md-nav__link">
    visit_citation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_citation_reference" class="md-nav__link">
    visit_citation_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_classifier" class="md-nav__link">
    visit_classifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_colspec" class="md-nav__link">
    visit_colspec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_comment" class="md-nav__link">
    visit_comment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_compound" class="md-nav__link">
    visit_compound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_contact" class="md-nav__link">
    visit_contact
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_container" class="md-nav__link">
    visit_container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_copyright" class="md-nav__link">
    visit_copyright
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_date" class="md-nav__link">
    visit_date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_decoration" class="md-nav__link">
    visit_decoration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_definition" class="md-nav__link">
    visit_definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_definition_list" class="md-nav__link">
    visit_definition_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_definition_list_item" class="md-nav__link">
    visit_definition_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_description" class="md-nav__link">
    visit_description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_docinfo" class="md-nav__link">
    visit_docinfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_docinfo_item" class="md-nav__link">
    visit_docinfo_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_doctest_block" class="md-nav__link">
    visit_doctest_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_document" class="md-nav__link">
    visit_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_emphasis" class="md-nav__link">
    visit_emphasis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_entry" class="md-nav__link">
    visit_entry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_enumerated_list" class="md-nav__link">
    visit_enumerated_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field" class="md-nav__link">
    visit_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field_body" class="md-nav__link">
    visit_field_body
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field_list" class="md-nav__link">
    visit_field_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field_name" class="md-nav__link">
    visit_field_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_figure" class="md-nav__link">
    visit_figure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_footer" class="md-nav__link">
    visit_footer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_footnote" class="md-nav__link">
    visit_footnote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_footnote_reference" class="md-nav__link">
    visit_footnote_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_generated" class="md-nav__link">
    visit_generated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_header" class="md-nav__link">
    visit_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_image" class="md-nav__link">
    visit_image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_inline" class="md-nav__link">
    visit_inline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_label" class="md-nav__link">
    visit_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_legend" class="md-nav__link">
    visit_legend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_line" class="md-nav__link">
    visit_line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_line_block" class="md-nav__link">
    visit_line_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_list_item" class="md-nav__link">
    visit_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_literal" class="md-nav__link">
    visit_literal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_literal_block" class="md-nav__link">
    visit_literal_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_math" class="md-nav__link">
    visit_math
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_math_block" class="md-nav__link">
    visit_math_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_meta" class="md-nav__link">
    visit_meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option" class="md-nav__link">
    visit_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_argument" class="md-nav__link">
    visit_option_argument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_group" class="md-nav__link">
    visit_option_group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_list" class="md-nav__link">
    visit_option_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_list_item" class="md-nav__link">
    visit_option_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_string" class="md-nav__link">
    visit_option_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_organization" class="md-nav__link">
    visit_organization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_paragraph" class="md-nav__link">
    visit_paragraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_problematic" class="md-nav__link">
    visit_problematic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_raw" class="md-nav__link">
    visit_raw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_reference" class="md-nav__link">
    visit_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_revision" class="md-nav__link">
    visit_revision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_row" class="md-nav__link">
    visit_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_rubric" class="md-nav__link">
    visit_rubric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_section" class="md-nav__link">
    visit_section
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_sidebar" class="md-nav__link">
    visit_sidebar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_status" class="md-nav__link">
    visit_status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_strong" class="md-nav__link">
    visit_strong
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_subscript" class="md-nav__link">
    visit_subscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_substitution_definition" class="md-nav__link">
    visit_substitution_definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_substitution_reference" class="md-nav__link">
    visit_substitution_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_subtitle" class="md-nav__link">
    visit_subtitle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_superscript" class="md-nav__link">
    visit_superscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_system_message" class="md-nav__link">
    visit_system_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_table" class="md-nav__link">
    visit_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_target" class="md-nav__link">
    visit_target
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_tbody" class="md-nav__link">
    visit_tbody
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_term" class="md-nav__link">
    visit_term
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_tgroup" class="md-nav__link">
    visit_tgroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_thead" class="md-nav__link">
    visit_thead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_title" class="md-nav__link">
    visit_title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_title_reference" class="md-nav__link">
    visit_title_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_topic" class="md-nav__link">
    visit_topic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_transition" class="md-nav__link">
    visit_transition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_version" class="md-nav__link">
    visit_version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../string_utils/" class="md-nav__link">
        String Utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rst_to_html" class="md-nav__link">
    rst_to_html
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#htmlfragmenttranslator" class="md-nav__link">
    HTMLFragmentTranslator
  </a>
  
    <nav class="md-nav" aria-label="HTMLFragmentTranslator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_meta" class="md-nav__link">
    add_meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#astext" class="md-nav__link">
    astext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attval" class="md-nav__link">
    attval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check_simple_list" class="md-nav__link">
    check_simple_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloak_email" class="md-nav__link">
    cloak_email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloak_mailto" class="md-nav__link">
    cloak_mailto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_text" class="md-nav__link">
    depart_Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_abbreviation" class="md-nav__link">
    depart_abbreviation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_acronym" class="md-nav__link">
    depart_acronym
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_address" class="md-nav__link">
    depart_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_admonition" class="md-nav__link">
    depart_admonition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_attribution" class="md-nav__link">
    depart_attribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_author" class="md-nav__link">
    depart_author
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_authors" class="md-nav__link">
    depart_authors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_block_quote" class="md-nav__link">
    depart_block_quote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_bullet_list" class="md-nav__link">
    depart_bullet_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_caption" class="md-nav__link">
    depart_caption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_citation" class="md-nav__link">
    depart_citation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_citation_reference" class="md-nav__link">
    depart_citation_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_classifier" class="md-nav__link">
    depart_classifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_colspec" class="md-nav__link">
    depart_colspec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_compound" class="md-nav__link">
    depart_compound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_contact" class="md-nav__link">
    depart_contact
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_container" class="md-nav__link">
    depart_container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_copyright" class="md-nav__link">
    depart_copyright
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_date" class="md-nav__link">
    depart_date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_decoration" class="md-nav__link">
    depart_decoration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_definition" class="md-nav__link">
    depart_definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_definition_list" class="md-nav__link">
    depart_definition_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_definition_list_item" class="md-nav__link">
    depart_definition_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_description" class="md-nav__link">
    depart_description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_docinfo" class="md-nav__link">
    depart_docinfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_docinfo_item" class="md-nav__link">
    depart_docinfo_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_doctest_block" class="md-nav__link">
    depart_doctest_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_document" class="md-nav__link">
    depart_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_emphasis" class="md-nav__link">
    depart_emphasis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_entry" class="md-nav__link">
    depart_entry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_enumerated_list" class="md-nav__link">
    depart_enumerated_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field" class="md-nav__link">
    depart_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field_body" class="md-nav__link">
    depart_field_body
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field_list" class="md-nav__link">
    depart_field_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_field_name" class="md-nav__link">
    depart_field_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_figure" class="md-nav__link">
    depart_figure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_footer" class="md-nav__link">
    depart_footer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_footnote" class="md-nav__link">
    depart_footnote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_footnote_reference" class="md-nav__link">
    depart_footnote_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_generated" class="md-nav__link">
    depart_generated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_header" class="md-nav__link">
    depart_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_image" class="md-nav__link">
    depart_image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_inline" class="md-nav__link">
    depart_inline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_label" class="md-nav__link">
    depart_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_legend" class="md-nav__link">
    depart_legend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_line" class="md-nav__link">
    depart_line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_line_block" class="md-nav__link">
    depart_line_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_list_item" class="md-nav__link">
    depart_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_literal" class="md-nav__link">
    depart_literal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_literal_block" class="md-nav__link">
    depart_literal_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_math" class="md-nav__link">
    depart_math
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_math_block" class="md-nav__link">
    depart_math_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_meta" class="md-nav__link">
    depart_meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option" class="md-nav__link">
    depart_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_argument" class="md-nav__link">
    depart_option_argument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_group" class="md-nav__link">
    depart_option_group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_list" class="md-nav__link">
    depart_option_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_list_item" class="md-nav__link">
    depart_option_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_option_string" class="md-nav__link">
    depart_option_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_organization" class="md-nav__link">
    depart_organization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_paragraph" class="md-nav__link">
    depart_paragraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_problematic" class="md-nav__link">
    depart_problematic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_reference" class="md-nav__link">
    depart_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_revision" class="md-nav__link">
    depart_revision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_row" class="md-nav__link">
    depart_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_rubric" class="md-nav__link">
    depart_rubric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_section" class="md-nav__link">
    depart_section
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_sidebar" class="md-nav__link">
    depart_sidebar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_status" class="md-nav__link">
    depart_status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_strong" class="md-nav__link">
    depart_strong
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_subscript" class="md-nav__link">
    depart_subscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_subtitle" class="md-nav__link">
    depart_subtitle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_superscript" class="md-nav__link">
    depart_superscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_system_message" class="md-nav__link">
    depart_system_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_table" class="md-nav__link">
    depart_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_target" class="md-nav__link">
    depart_target
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_tbody" class="md-nav__link">
    depart_tbody
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_term" class="md-nav__link">
    depart_term
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_tgroup" class="md-nav__link">
    depart_tgroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_thead" class="md-nav__link">
    depart_thead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_title" class="md-nav__link">
    depart_title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_title_reference" class="md-nav__link">
    depart_title_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_topic" class="md-nav__link">
    depart_topic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_transition" class="md-nav__link">
    depart_transition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depart_version" class="md-nav__link">
    depart_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispatch_departure" class="md-nav__link">
    dispatch_departure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispatch_visit" class="md-nav__link">
    dispatch_visit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptytag" class="md-nav__link">
    emptytag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode" class="md-nav__link">
    encode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#footnote_backrefs" class="md-nav__link">
    footnote_backrefs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_compactable" class="md-nav__link">
    is_compactable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_class_on_child" class="md-nav__link">
    set_class_on_child
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_first_last" class="md-nav__link">
    set_first_last
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#should_be_compact_paragraph" class="md-nav__link">
    should_be_compact_paragraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starttag" class="md-nav__link">
    starttag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stylesheet_call" class="md-nav__link">
    stylesheet_call
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unimplemented_visit" class="md-nav__link">
    unimplemented_visit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unknown_departure" class="md-nav__link">
    unknown_departure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unknown_visit" class="md-nav__link">
    unknown_visit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_text" class="md-nav__link">
    visit_Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_abbreviation" class="md-nav__link">
    visit_abbreviation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_acronym" class="md-nav__link">
    visit_acronym
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_address" class="md-nav__link">
    visit_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_admonition" class="md-nav__link">
    visit_admonition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_attribution" class="md-nav__link">
    visit_attribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_author" class="md-nav__link">
    visit_author
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_authors" class="md-nav__link">
    visit_authors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_block_quote" class="md-nav__link">
    visit_block_quote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_bullet_list" class="md-nav__link">
    visit_bullet_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_caption" class="md-nav__link">
    visit_caption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_citation" class="md-nav__link">
    visit_citation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_citation_reference" class="md-nav__link">
    visit_citation_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_classifier" class="md-nav__link">
    visit_classifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_colspec" class="md-nav__link">
    visit_colspec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_comment" class="md-nav__link">
    visit_comment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_compound" class="md-nav__link">
    visit_compound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_contact" class="md-nav__link">
    visit_contact
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_container" class="md-nav__link">
    visit_container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_copyright" class="md-nav__link">
    visit_copyright
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_date" class="md-nav__link">
    visit_date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_decoration" class="md-nav__link">
    visit_decoration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_definition" class="md-nav__link">
    visit_definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_definition_list" class="md-nav__link">
    visit_definition_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_definition_list_item" class="md-nav__link">
    visit_definition_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_description" class="md-nav__link">
    visit_description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_docinfo" class="md-nav__link">
    visit_docinfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_docinfo_item" class="md-nav__link">
    visit_docinfo_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_doctest_block" class="md-nav__link">
    visit_doctest_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_document" class="md-nav__link">
    visit_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_emphasis" class="md-nav__link">
    visit_emphasis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_entry" class="md-nav__link">
    visit_entry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_enumerated_list" class="md-nav__link">
    visit_enumerated_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field" class="md-nav__link">
    visit_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field_body" class="md-nav__link">
    visit_field_body
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field_list" class="md-nav__link">
    visit_field_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_field_name" class="md-nav__link">
    visit_field_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_figure" class="md-nav__link">
    visit_figure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_footer" class="md-nav__link">
    visit_footer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_footnote" class="md-nav__link">
    visit_footnote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_footnote_reference" class="md-nav__link">
    visit_footnote_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_generated" class="md-nav__link">
    visit_generated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_header" class="md-nav__link">
    visit_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_image" class="md-nav__link">
    visit_image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_inline" class="md-nav__link">
    visit_inline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_label" class="md-nav__link">
    visit_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_legend" class="md-nav__link">
    visit_legend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_line" class="md-nav__link">
    visit_line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_line_block" class="md-nav__link">
    visit_line_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_list_item" class="md-nav__link">
    visit_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_literal" class="md-nav__link">
    visit_literal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_literal_block" class="md-nav__link">
    visit_literal_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_math" class="md-nav__link">
    visit_math
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_math_block" class="md-nav__link">
    visit_math_block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_meta" class="md-nav__link">
    visit_meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option" class="md-nav__link">
    visit_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_argument" class="md-nav__link">
    visit_option_argument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_group" class="md-nav__link">
    visit_option_group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_list" class="md-nav__link">
    visit_option_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_list_item" class="md-nav__link">
    visit_option_list_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_option_string" class="md-nav__link">
    visit_option_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_organization" class="md-nav__link">
    visit_organization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_paragraph" class="md-nav__link">
    visit_paragraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_problematic" class="md-nav__link">
    visit_problematic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_raw" class="md-nav__link">
    visit_raw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_reference" class="md-nav__link">
    visit_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_revision" class="md-nav__link">
    visit_revision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_row" class="md-nav__link">
    visit_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_rubric" class="md-nav__link">
    visit_rubric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_section" class="md-nav__link">
    visit_section
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_sidebar" class="md-nav__link">
    visit_sidebar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_status" class="md-nav__link">
    visit_status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_strong" class="md-nav__link">
    visit_strong
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_subscript" class="md-nav__link">
    visit_subscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_substitution_definition" class="md-nav__link">
    visit_substitution_definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_substitution_reference" class="md-nav__link">
    visit_substitution_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_subtitle" class="md-nav__link">
    visit_subtitle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_superscript" class="md-nav__link">
    visit_superscript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_system_message" class="md-nav__link">
    visit_system_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_table" class="md-nav__link">
    visit_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_target" class="md-nav__link">
    visit_target
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_tbody" class="md-nav__link">
    visit_tbody
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_term" class="md-nav__link">
    visit_term
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_tgroup" class="md-nav__link">
    visit_tgroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_thead" class="md-nav__link">
    visit_thead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_title" class="md-nav__link">
    visit_title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_title_reference" class="md-nav__link">
    visit_title_reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_topic" class="md-nav__link">
    visit_topic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_transition" class="md-nav__link">
    visit_transition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit_version" class="md-nav__link">
    visit_version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/matthewdeanmartin/pydoc_fork/edit/main/reference/pydoc_fork/reporter/rst_support.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="module-pydoc_forkreporterrst_support">Module pydoc_fork.reporter.rst_support</h1>
<p>Rst to HTML function</p>
<p>Credits: https://stackoverflow.com/a/49047197/33264</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">Rst to HTML function</span>

<span class="sd">Credits: https://stackoverflow.com/a/49047197/33264</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">docutils</span> <span class="kn">import</span> <span class="n">core</span>

<span class="kn">from</span> <span class="nn">docutils.writers.html4css1</span> <span class="kn">import</span> <span class="n">HTMLTranslator</span><span class="p">,</span> <span class="n">Writer</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">List</span>

<span class="k">class</span> <span class="nc">HTMLFragmentTranslator</span><span class="p">(</span><span class="n">HTMLTranslator</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Minimum to call docutils&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;setup&quot;&quot;&quot;</span>

        <span class="n">HTMLTranslator</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">head_prefix</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">body_prefix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">body_suffix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stylesheet</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">astext</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;minimum to call docutils&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>

<span class="n">html_fragment_writer</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">()</span>

<span class="n">html_fragment_writer</span><span class="o">.</span><span class="n">translator_class</span> <span class="o">=</span> <span class="n">HTMLFragmentTranslator</span>

<span class="k">def</span> <span class="nf">rst_to_html</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Convert rst string to html string&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">core</span><span class="o">.</span><span class="n">publish_string</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="n">html_fragment_writer</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</code></pre></div>

</details>
<h2 id="variables">Variables</h2>
<div class="codehilite"><pre><span></span><code><span class="n">html_fragment_writer</span>
</code></pre></div>

<h2 id="functions">Functions</h2>
<h3 id="rst_to_html">rst_to_html</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">rst_to_html</span><span class="p">(</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

<p>Convert rst string to html string</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">rst_to_html</span><span class="p">(</span><span class="n">text</span><span class="o">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">str</span><span class="o">:</span>

    <span class="s">&quot;&quot;&quot;Convert rst string to html string&quot;&quot;&quot;</span>

    <span class="kr">return</span> <span class="n">core</span><span class="p">.</span><span class="n">publish_string</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="n">html_fragment_writer</span><span class="p">).</span><span class="n">decode</span><span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">)</span>
</code></pre></div>

</details>
<h2 id="classes">Classes</h2>
<h3 id="htmlfragmenttranslator">HTMLFragmentTranslator</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">HTMLFragmentTranslator</span><span class="p">(</span>
    <span class="n">document</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="n">HTMLFragmentTranslator</span><span class="p">(</span><span class="n">HTMLTranslator</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">    </span><span class="ss">&quot;&quot;&quot;Minimum to call docutils&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">document</span><span class="p">:</span><span class="w"> </span><span class="ow">Any</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;setup&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">HTMLTranslator</span><span class="p">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">head_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="nl">body_prefix</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">Any</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="nl">body_suffix</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">Any</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="nl">stylesheet</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">Any</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">astext</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nf">str</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;minimum to call docutils&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">body</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<hr />
<h4 id="ancestors-in-mro">Ancestors (in MRO)</h4>
<ul>
<li>docutils.writers.html4css1.HTMLTranslator</li>
<li>docutils.writers._html_base.HTMLTranslator</li>
<li>docutils.nodes.NodeVisitor</li>
</ul>
<h4 id="class-variables">Class variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">attribution_formats</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">content_type</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">content_type_mathml</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">doctype</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">doctype_mathml</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">embedded_stylesheet</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">generator</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">head_prefix_template</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">in_word_wrap_point</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">lang_attribute</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">math_tags</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">mathjax_script</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">mathjax_url</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">object_image_types</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">optional</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">special_characters</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">stylesheet_link</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">words_and_spaces</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">xml_declaration</span>
</code></pre></div>

<h4 id="methods">Methods</h4>
<h4 id="add_meta">add_meta</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">add_meta</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">tag</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def add_meta(self, tag):

        self.meta.append(tag)

        self.head.append(tag)
</code></pre></div>

</details>
<h4 id="astext">astext</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">astext</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

<p>minimum to call docutils</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">astext</span><span class="p">(</span><span class="kr">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">str</span><span class="o">:</span>

        <span class="s">&quot;&quot;&quot;minimum to call docutils&quot;&quot;&quot;</span>

        <span class="kr">return</span> <span class="s">&quot;&quot;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="attval">attval</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">attval</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span><span class="p">,</span>
    <span class="n">whitespace</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;[</span><span class="se">\n\r\t\x0b\x0c</span><span class="s1">]&#39;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>

<p>Cleanse, HTML encode, and return attribute value text.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nt">def</span> <span class="nt">attval</span><span class="o">(</span><span class="nt">self</span><span class="o">,</span> <span class="nt">text</span><span class="o">,</span>

               <span class="nt">whitespace</span><span class="o">=</span><span class="nt">re</span><span class="p">.</span><span class="nc">compile</span><span class="o">(</span><span class="s1">&#39;</span><span class="cp">[</span><span class="o">\</span><span class="nx">n</span><span class="o">\</span><span class="nx">r</span><span class="o">\</span><span class="nx">t</span><span class="o">\</span><span class="nx">v</span><span class="o">\</span><span class="nx">f</span><span class="cp">]</span><span class="s1">&#39;</span><span class="o">)):</span>

        <span class="s2">&quot;&quot;&quot;Cleanse, HTML encode, and return attribute value text.&quot;&quot;&quot;</span>

        <span class="nt">encoded</span> <span class="o">=</span> <span class="nt">self</span><span class="p">.</span><span class="nc">encode</span><span class="o">(</span><span class="nt">whitespace</span><span class="p">.</span><span class="nc">sub</span><span class="o">(</span><span class="s1">&#39; &#39;</span><span class="o">,</span> <span class="nt">text</span><span class="o">))</span>

        <span class="nt">if</span> <span class="nt">self</span><span class="p">.</span><span class="nc">in_mailto</span> <span class="nt">and</span> <span class="nt">self</span><span class="p">.</span><span class="nc">settings</span><span class="p">.</span><span class="nc">cloak_email_addresses</span><span class="o">:</span>

            <span class="err">#</span> <span class="nt">Cloak</span> <span class="nt">at-signs</span> <span class="o">(</span><span class="s2">&quot;%40&quot;</span><span class="o">)</span> <span class="nt">and</span> <span class="nt">periods</span> <span class="nt">with</span> <span class="nt">HTML</span> <span class="nt">entities</span><span class="o">.</span>

            <span class="nt">encoded</span> <span class="o">=</span> <span class="nt">encoded</span><span class="p">.</span><span class="nc">replace</span><span class="o">(</span><span class="s1">&#39;%40&#39;</span><span class="o">,</span> <span class="s1">&#39;&amp;#37;&amp;#52;&amp;#48;&#39;</span><span class="o">)</span>

            <span class="nt">encoded</span> <span class="o">=</span> <span class="nt">encoded</span><span class="p">.</span><span class="nc">replace</span><span class="o">(</span><span class="s1">&#39;.&#39;</span><span class="o">,</span> <span class="s1">&#39;&amp;#46;&#39;</span><span class="o">)</span>

        <span class="nt">return</span> <span class="nt">encoded</span>
</code></pre></div>

</details>
<h4 id="check_simple_list">check_simple_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">check_simple_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Check for a simple list that can be rendered compactly.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">check_simple_list</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Check for a simple list that can be rendered compactly.</span><span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">visitor</span> <span class="o">=</span> <span class="nv">SimpleListChecker</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">document</span><span class="ss">)</span>

        <span class="nv">try</span>:

            <span class="nv">node</span>.<span class="nv">walk</span><span class="ss">(</span><span class="nv">visitor</span><span class="ss">)</span>

        <span class="nv">except</span> <span class="nv">nodes</span>.<span class="nv">NodeFound</span>:

            <span class="k">return</span> <span class="nv">False</span>

        <span class="k">else</span>:

            <span class="k">return</span> <span class="nv">True</span>
</code></pre></div>

</details>
<h4 id="cloak_email">cloak_email</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">cloak_email</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">addr</span>
<span class="p">)</span>
</code></pre></div>

<p>Try to hide the link text of a email link from harversters.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="nf">cloak_email</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">)</span><span class="o">:</span><span class="w"></span>

<span class="w">        </span><span class="s">&quot;&quot;&quot;Try to hide the link text of a email link from harversters.&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="cp"># Surround at-signs and periods with &lt;span&gt; tags.  (&quot;@&quot; has</span>

<span class="w">        </span><span class="cp"># already been encoded to &quot;&amp;#64</span><span class="p">;</span><span class="s">&quot; by the `encode` method.)</span>

<span class="w">        </span><span class="n">addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">addr</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="err">&#39;</span><span class="o">&amp;</span><span class="err">#</span><span class="mi">64</span><span class="p">;</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;&amp;</span><span class="err">#</span><span class="mi">64</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span><span class="err">&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">addr</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="sc">&#39;.&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;&amp;</span><span class="err">#</span><span class="mi">46</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span><span class="err">&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">addr</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="cloak_mailto">cloak_mailto</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">cloak_mailto</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uri</span>
<span class="p">)</span>
</code></pre></div>

<p>Try to hide a mailto: URL from harvesters.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">cloak_mailto</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span><span class="w"> </span><span class="n">uri</span><span class="p">)</span><span class="o">:</span><span class="w"></span>

<span class="w">        </span><span class="s">&quot;&quot;&quot;Try to hide a mailto: URL from harvesters.&quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="cp"># Encode &quot;@&quot; using a URL octet reference (see RFC 1738).</span>

<span class="w">        </span><span class="cp"># Further cloaking with HTML entities will be done in the</span>

<span class="w">        </span><span class="cp"># `attval` function.</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">uri</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="sc">&#39;@&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="o">%</span><span class="mi">40</span><span class="err">&#39;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="depart_text">depart_Text</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_Text</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_Text(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_abbreviation">depart_abbreviation</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_abbreviation</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_abbreviation(self, node):

        self.body.append(&#39;&lt;/abbr&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_acronym">depart_acronym</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_acronym</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_acronym(self, node):

        self.body.append(&#39;&lt;/acronym&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_address">depart_address</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_address</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_address(self, node):

        self.body.append(&#39;\n&lt;/pre&gt;\n&#39;)

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_admonition">depart_admonition</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_admonition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_admonition(self, node=None):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_attribution">depart_attribution</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_attribution</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_attribution(self, node):

        self.body.append(self.context.pop() + &#39;&lt;/p&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_author">depart_author</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_author</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">depart_author</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">parent</span>, <span class="nv">nodes</span>.<span class="nv">authors</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">author_in_authors</span> <span class="o">=</span> <span class="nv">True</span>

        <span class="k">else</span>:

            <span class="nv">self</span>.<span class="nv">depart_docinfo_item</span><span class="ss">()</span>
</code></pre></div>

</details>
<h4 id="depart_authors">depart_authors</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_authors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_authors(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_block_quote">depart_block_quote</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_block_quote</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_block_quote(self, node):

        self.body.append(&#39;&lt;/blockquote&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_bullet_list">depart_bullet_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_bullet_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_bullet_list(self, node):

        self.compact_simple, self.compact_p = self.context.pop()

        self.body.append(&#39;&lt;/ul&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_caption">depart_caption</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_caption</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_caption(self, node):

        self.body.append(&#39;&lt;/p&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_citation">depart_citation</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_citation</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_citation(self, node):

        self.body.append(&#39;<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>\n&#39;

                         &#39;<span class="nt">&lt;/tbody&gt;</span>\n<span class="nt">&lt;/table&gt;</span>\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_citation_reference">depart_citation_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_citation_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_citation_reference(self, node):

        self.body.append(&#39;]&lt;/a&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_classifier">depart_classifier</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_classifier</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_classifier(self, node):

        self.body.append(&#39;&lt;/span&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_colspec">depart_colspec</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_colspec</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_colspec(self, node):

        # write out <span class="nt">&lt;colgroup&gt;</span> when all colspecs are processed

        if isinstance(node.next_node(descend=False, siblings=True),

                      nodes.colspec):

            return

        if &#39;colwidths-auto&#39; in node.parent.parent[&#39;classes&#39;] or (

            &#39;colwidths-auto&#39; in self.settings.table_style and

            (&#39;colwidths-given&#39; not in node.parent.parent[&#39;classes&#39;])):

            return

        total_width = sum(node[&#39;colwidth&#39;] for node in self.colspecs)

        self.body.append(self.starttag(node, &#39;colgroup&#39;))

        for node in self.colspecs:

            colwidth = int(node[&#39;colwidth&#39;] * 100.0 / total_width + 0.5)

            self.body.append(self.emptytag(node, &#39;col&#39;,

                                           width=&#39;%i%%&#39; % colwidth))

        self.body.append(&#39;<span class="nt">&lt;/colgroup&gt;</span>\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_compound">depart_compound</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_compound</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_compound(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_contact">depart_contact</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_contact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_contact(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_container">depart_container</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_container</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_container(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_copyright">depart_copyright</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_copyright</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_copyright(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_date">depart_date</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_date</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_date(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_decoration">depart_decoration</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_decoration</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_decoration(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_definition">depart_definition</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_definition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_definition(self, node):

        self.body.append(&#39;&lt;/dd&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_definition_list">depart_definition_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_definition_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_definition_list(self, node):

        self.body.append(&#39;&lt;/dl&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_definition_list_item">depart_definition_list_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_definition_list_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_definition_list_item(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_description">depart_description</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_description</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_description(self, node):

        self.body.append(&#39;&lt;/td&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_docinfo">depart_docinfo</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_docinfo</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_docinfo(self, node):

        self.body.append(&#39;<span class="nt">&lt;/tbody&gt;</span>\n<span class="nt">&lt;/table&gt;</span>\n&#39;)

        self.in_docinfo = False

        start = self.context.pop()

        self.docinfo = self.body[start:]

        self.body = []
</code></pre></div>

</details>
<h4 id="depart_docinfo_item">depart_docinfo_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_docinfo_item</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_docinfo_item(self):

        self.body.append(&#39;<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_doctest_block">depart_doctest_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_doctest_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_doctest_block(self, node):

        self.body.append(&#39;\n&lt;/pre&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_document">depart_document</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_document</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="s s-Atom">def</span> <span class="nf">depart_document</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">node</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">head_prefix</span><span class="p">.</span><span class="nf">extend</span><span class="p">([</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">doctype</span><span class="p">,</span>

                                 <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">head_prefix_template</span> <span class="c1">%</span>

                                 <span class="p">{</span><span class="s s-Atom">&#39;lang&#39;:</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">settings</span><span class="p">.</span><span class="s s-Atom">language_code</span><span class="p">}])</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">html_prolog</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">doctype</span><span class="p">)</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">meta</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">content_type</span> <span class="c1">% self.settings.output_encoding)</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">head</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">content_type</span> <span class="c1">% self.settings.output_encoding)</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">&#39;name=&quot;dcterms.&#39;</span> <span class="s s-Atom">in</span> <span class="s s-Atom">&#39;&#39;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">meta</span><span class="p">)</span><span class="s s-Atom">:</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">head</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span>

             <span class="s s-Atom">&#39;&lt;link rel=&quot;schema.dcterms&quot; href=&quot;http://purl.org/dc/terms/&quot;/&gt;&#39;</span><span class="p">)</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">math_header:</span>

            <span class="s s-Atom">if</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">math_output</span> <span class="o">==</span> <span class="s s-Atom">&#39;mathjax&#39;:</span>

                <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">head</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">math_header</span><span class="p">)</span>

            <span class="nn">else</span><span class="p">:</span>

                <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">stylesheet</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">math_header</span><span class="p">)</span>

        <span class="s s-Atom">#</span> <span class="s s-Atom">skip</span> <span class="s s-Atom">content</span><span class="o">-</span><span class="s s-Atom">type</span> <span class="s s-Atom">meta</span> <span class="s s-Atom">tag</span> <span class="s s-Atom">with</span> <span class="s s-Atom">interpolated</span> <span class="s s-Atom">charset</span> <span class="nn">value</span><span class="p">:</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">html_head</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">head</span><span class="p">[</span><span class="mi">1</span><span class="s s-Atom">:</span><span class="p">])</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body_prefix</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="nf">starttag</span><span class="p">(</span><span class="s s-Atom">node</span><span class="p">,</span> <span class="s s-Atom">&#39;div&#39;</span><span class="p">,</span> <span class="nv">CLASS</span><span class="s s-Atom">=&#39;document&#39;</span><span class="p">))</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body_suffix</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s s-Atom">&#39;&lt;/div&gt;\n&#39;</span><span class="p">)</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">fragment</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">)</span> <span class="s s-Atom">#</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">fragment</span> <span class="o">is</span> <span class="s s-Atom">the</span> <span class="s2">&quot;naked&quot;</span> <span class="s s-Atom">body</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">html_body</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body_prefix</span><span class="p">[</span><span class="mi">1</span><span class="s s-Atom">:</span><span class="p">]</span> <span class="o">+</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body_pre_docinfo</span>

                              <span class="o">+</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">docinfo</span> <span class="o">+</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span>

                              <span class="o">+</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body_suffix</span><span class="p">[:-</span><span class="mi">1</span><span class="p">])</span>

        <span class="s s-Atom">assert</span> <span class="o">not</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">context</span><span class="p">,</span> <span class="s s-Atom">&#39;len(context) = %s&#39;</span> <span class="c1">% len(self.context)</span>
</code></pre></div>

</details>
<h4 id="depart_emphasis">depart_emphasis</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_emphasis</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_emphasis(self, node):

        self.body.append(&#39;&lt;/em&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_entry">depart_entry</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_entry(self, node):

        self.body.append(self.context.pop())
</code></pre></div>

</details>
<h4 id="depart_enumerated_list">depart_enumerated_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_enumerated_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">depart_enumerated_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/ol&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="depart_field">depart_field</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_field</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_field(self, node):

        self.body.append(&#39;&lt;/tr&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_field_body">depart_field_body</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_field_body</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_field_body(self, node):

        self.body.append(&#39;&lt;/td&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_field_list">depart_field_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_field_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_field_list(self, node):

        self.body.append(&#39;<span class="nt">&lt;/tbody&gt;</span>\n<span class="nt">&lt;/table&gt;</span>\n&#39;)

        self.compact_field_list, self.compact_p = self.context.pop()
</code></pre></div>

</details>
<h4 id="depart_field_name">depart_field_name</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_field_name</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_field_name(self, node):

        self.body.append(&#39;:&lt;/th&gt;&#39;)

        self.body.append(self.context.pop())
</code></pre></div>

</details>
<h4 id="depart_figure">depart_figure</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_figure</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_figure(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_footer">depart_footer</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_footer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_footer(self, node):

        start = self.context.pop()

        footer = [self.starttag(node, &#39;div&#39;, CLASS=&#39;footer&#39;),

                  &#39;<span class="nt">&lt;hr</span> <span class="na">class=</span><span class="s">&quot;footer&quot;</span> <span class="nt">/&gt;</span>\n&#39;]

        footer.extend(self.body[start:])

        footer.append(&#39;\n<span class="nt">&lt;/div&gt;</span>\n&#39;)

        self.footer.extend(footer)

        self.body_suffix[:0] = footer

        del self.body[start:]
</code></pre></div>

</details>
<h4 id="depart_footnote">depart_footnote</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_footnote</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_footnote(self, node):

        self.body.append(&#39;<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>\n&#39;

                         &#39;<span class="nt">&lt;/tbody&gt;</span>\n<span class="nt">&lt;/table&gt;</span>\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_footnote_reference">depart_footnote_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_footnote_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_footnote_reference(self, node):

        self.body.append(self.context.pop() + &#39;&lt;/a&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_generated">depart_generated</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_generated</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_generated(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_header">depart_header</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_header</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_header(self, node):

        start = self.context.pop()

        header = [self.starttag(node, &#39;div&#39;, CLASS=&#39;header&#39;)]

        header.extend(self.body[start:])

        header.append(&#39;\n<span class="nt">&lt;hr</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span><span class="nt">/&gt;</span>\n<span class="nt">&lt;/div&gt;</span>\n&#39;)

        self.body_prefix.extend(header)

        self.header.extend(header)

        del self.body[start:]
</code></pre></div>

</details>
<h4 id="depart_image">depart_image</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_image</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_image(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_inline">depart_inline</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_inline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_inline(self, node):

        self.body.append(&#39;&lt;/span&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_label">depart_label</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_label</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_label(self, node):

        self.body.append(&#39;]%s&lt;/td&gt;&lt;td&gt;%s&#39; % (self.context.pop(), self.context.pop()))
</code></pre></div>

</details>
<h4 id="depart_legend">depart_legend</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_legend</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_legend(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_line">depart_line</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_line</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_line(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_line_block">depart_line_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_line_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_line_block(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_list_item">depart_list_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_list_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_list_item(self, node):

        self.body.append(&#39;&lt;/li&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_literal">depart_literal</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_literal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_literal(self, node):

        # skipped unless literal element is from &quot;code&quot; role:

        self.body.append(&#39;&lt;/code&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_literal_block">depart_literal_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_literal_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_literal_block(self, node):

        self.body.append(&#39;\n&lt;/pre&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_math">depart_math</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_math</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_math(self, node):

        pass # never reached
</code></pre></div>

</details>
<h4 id="depart_math_block">depart_math_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_math_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_math_block(self, node):

        pass # never reached
</code></pre></div>

</details>
<h4 id="depart_meta">depart_meta</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_meta</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_meta(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_option">depart_option</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_option</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">depart_option</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">&lt;/span&gt;</span><span class="s1">&#39;</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">next_node</span><span class="ss">(</span><span class="nv">descend</span><span class="o">=</span><span class="nv">False</span>, <span class="nv">siblings</span><span class="o">=</span><span class="nv">True</span><span class="ss">)</span>,

                      <span class="nv">nodes</span>.<span class="nv">option</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">, </span><span class="s1">&#39;</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="depart_option_argument">depart_option_argument</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_option_argument</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">depart_option_argument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/var&gt;&#39;</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="depart_option_group">depart_option_group</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_option_group</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_option_group(self, node):

        self.context.pop()

        self.body.append(&#39;<span class="nt">&lt;/kbd&gt;&lt;/td&gt;</span>\n&#39;)

        self.body.append(self.context.pop())
</code></pre></div>

</details>
<h4 id="depart_option_list">depart_option_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_option_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_option_list(self, node):

        self.body.append(&#39;<span class="nt">&lt;/tbody&gt;</span>\n<span class="nt">&lt;/table&gt;</span>\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_option_list_item">depart_option_list_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_option_list_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_option_list_item(self, node):

        self.body.append(&#39;&lt;/tr&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_option_string">depart_option_string</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_option_string</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_option_string(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_organization">depart_organization</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_organization</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_organization(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_paragraph">depart_paragraph</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_paragraph</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_paragraph(self, node):

        self.body.append(self.context.pop())
</code></pre></div>

</details>
<h4 id="depart_problematic">depart_problematic</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_problematic</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_problematic(self, node):

        self.body.append(&#39;&lt;/span&gt;&#39;)

        self.body.append(self.context.pop())
</code></pre></div>

</details>
<h4 id="depart_reference">depart_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">depart_reference</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">&lt;/a&gt;</span><span class="s1">&#39;</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">not</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">parent</span>, <span class="nv">nodes</span>.<span class="nv">TextElement</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="ss">)</span>

        <span class="nv">self</span>.<span class="nv">in_mailto</span> <span class="o">=</span> <span class="nv">False</span>
</code></pre></div>

</details>
<h4 id="depart_revision">depart_revision</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_revision</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_revision(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_row">depart_row</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_row</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_row(self, node):

        self.body.append(&#39;&lt;/tr&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_rubric">depart_rubric</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_rubric</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_rubric(self, node):

        self.body.append(&#39;&lt;/p&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_section">depart_section</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_section</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_section(self, node):

        self.section_level -= 1

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_sidebar">depart_sidebar</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_sidebar(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)

        self.in_sidebar = False
</code></pre></div>

</details>
<h4 id="depart_status">depart_status</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_status</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_status(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="depart_strong">depart_strong</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_strong</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_strong(self, node):

        self.body.append(&#39;&lt;/strong&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_subscript">depart_subscript</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_subscript</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_subscript(self, node):

        if isinstance(node.parent, nodes.literal_block):

            self.body.append(&#39;<span class="nt">&lt;/span&gt;</span>&#39;)

        else:

            self.body.append(&#39;<span class="nt">&lt;/sub&gt;</span>&#39;)
</code></pre></div>

</details>
<h4 id="depart_subtitle">depart_subtitle</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_subtitle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="s s-Atom">def</span> <span class="nf">depart_subtitle</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">node</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">context</span><span class="p">.</span><span class="nf">pop</span><span class="p">())</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">in_document_title:</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">subtitle</span> <span class="o">=</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">[</span><span class="s s-Atom">self</span><span class="p">.</span><span class="nf">in_document_title</span><span class="o">:-</span><span class="mi">1</span><span class="p">]</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">in_document_title</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body_pre_docinfo</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">)</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">html_subtitle</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">)</span>

            <span class="s s-Atom">del</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">[</span><span class="s s-Atom">:</span><span class="p">]</span>
</code></pre></div>

</details>
<h4 id="depart_superscript">depart_superscript</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_superscript</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_superscript(self, node):

        if isinstance(node.parent, nodes.literal_block):

            self.body.append(&#39;<span class="nt">&lt;/span&gt;</span>&#39;)

        else:

            self.body.append(&#39;<span class="nt">&lt;/sup&gt;</span>&#39;)
</code></pre></div>

</details>
<h4 id="depart_system_message">depart_system_message</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_system_message</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_system_message(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_table">depart_table</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_table</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_table(self, node):

        self.compact_p = self.context.pop()

        self.body.append(&#39;&lt;/table&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_target">depart_target</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_target</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_target(self, node):

        self.body.append(self.context.pop())
</code></pre></div>

</details>
<h4 id="depart_tbody">depart_tbody</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_tbody</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_tbody(self, node):

        self.body.append(&#39;&lt;/tbody&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_term">depart_term</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_term</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Leave the end tag to <code>self.visit_definition()</code>, in case there's a</p>
<p>classifier.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">depart_term</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">Leave</span> <span class="nv">the</span> <span class="k">end</span> <span class="nv">tag</span> <span class="nv">to</span> `<span class="nv">self</span>.<span class="nv">visit_definition</span><span class="ss">()</span>`, <span class="nv">in</span> <span class="nv">case</span> <span class="nv">there</span><span class="s1">&#39;</span><span class="s">s a</span>

        <span class="nv">classifier</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">pass</span>
</code></pre></div>

</details>
<h4 id="depart_tgroup">depart_tgroup</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_tgroup</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_tgroup(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_thead">depart_thead</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_thead</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_thead(self, node):

        self.body.append(&#39;&lt;/thead&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="depart_title">depart_title</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_title</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="s s-Atom">def</span> <span class="nf">depart_title</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">node</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">context</span><span class="p">.</span><span class="nf">pop</span><span class="p">())</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">in_document_title:</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">title</span> <span class="o">=</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">[</span><span class="s s-Atom">self</span><span class="p">.</span><span class="nf">in_document_title</span><span class="o">:-</span><span class="mi">1</span><span class="p">]</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">in_document_title</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body_pre_docinfo</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">)</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">html_title</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">)</span>

            <span class="s s-Atom">del</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">[</span><span class="s s-Atom">:</span><span class="p">]</span>
</code></pre></div>

</details>
<h4 id="depart_title_reference">depart_title_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_title_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_title_reference(self, node):

        self.body.append(&#39;&lt;/cite&gt;&#39;)
</code></pre></div>

</details>
<h4 id="depart_topic">depart_topic</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_topic</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_topic(self, node):

        self.body.append(&#39;&lt;/div&gt;\n&#39;)

        self.topic_classes = []
</code></pre></div>

</details>
<h4 id="depart_transition">depart_transition</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_transition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_transition(self, node):

        pass
</code></pre></div>

</details>
<h4 id="depart_version">depart_version</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">depart_version</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def depart_version(self, node):

        self.depart_docinfo_item()
</code></pre></div>

</details>
<h4 id="dispatch_departure">dispatch_departure</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">dispatch_departure</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Call self."<code>depart_</code> + node class name" with <code>node</code> as</p>
<p>parameter.  If the <code>depart_...</code> method does not exist, call
self.unknown_departure.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">dispatch_departure</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2"></span>

<span class="s2">        Call self.&quot;</span><span class="n n-Quoted">``</span><span class="n">depart_</span><span class="n n-Quoted">``</span> <span class="o">+</span> <span class="n">node</span> <span class="n">class</span> <span class="k">name</span><span class="s2">&quot; with `node` as</span>

<span class="s2">        parameter.  If the ``depart_...`` method does not exist, call</span>

<span class="s2">        self.unknown_departure.</span>

<span class="s2">        </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="n">node_name</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span>

        <span class="n">method</span> <span class="o">=</span> <span class="n">getattr</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="s1">&#39;depart_&#39;</span> <span class="o">+</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">unknown_departure</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span>

            <span class="s1">&#39;docutils.nodes.NodeVisitor.dispatch_departure calling %s for %s&#39;</span>

            <span class="o">%</span> <span class="p">(</span><span class="n">method</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">node_name</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="dispatch_visit">dispatch_visit</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">dispatch_visit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Call self."<code>visit_</code> + node class name" with <code>node</code> as</p>
<p>parameter.  If the <code>visit_...</code> method does not exist, call
self.unknown_visit.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">dispatch_visit</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2"></span>

<span class="s2">        Call self.&quot;</span><span class="n n-Quoted">``</span><span class="n">visit_</span><span class="n n-Quoted">``</span> <span class="o">+</span> <span class="n">node</span> <span class="n">class</span> <span class="k">name</span><span class="s2">&quot; with `node` as</span>

<span class="s2">        parameter.  If the ``visit_...`` method does not exist, call</span>

<span class="s2">        self.unknown_visit.</span>

<span class="s2">        </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="n">node_name</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span>

        <span class="n">method</span> <span class="o">=</span> <span class="n">getattr</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="s1">&#39;visit_&#39;</span> <span class="o">+</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">unknown_visit</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span>

            <span class="s1">&#39;docutils.nodes.NodeVisitor.dispatch_visit calling %s for %s&#39;</span>

            <span class="o">%</span> <span class="p">(</span><span class="n">method</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">node_name</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="emptytag">emptytag</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">emptytag</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span><span class="p">,</span>
    <span class="n">tagname</span><span class="p">,</span>
    <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">attributes</span>
<span class="p">)</span>
</code></pre></div>

<p>Construct and return an XML-compatible empty tag.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">emptytag</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span>, <span class="nv">tagname</span>, <span class="nv">suffix</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>, <span class="o">**</span><span class="nv">attributes</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Construct and return an XML-compatible empty tag.</span><span class="s2">&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="nv">tagname</span>, <span class="nv">suffix</span>, <span class="nv">empty</span><span class="o">=</span><span class="nv">True</span>, <span class="o">**</span><span class="nv">attributes</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="encode">encode</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">encode</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">text</span>
<span class="p">)</span>
</code></pre></div>

<p>Encode special characters in <code>text</code> &amp; return.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">encode</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="kt">text</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2">Encode special characters in `text` &amp; return.</span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="c1"># Use only named entities known in both XML and HTML</span>

        <span class="c1"># other characters are automatically encoded &quot;by number&quot; if required.</span>

        <span class="c1"># @@@ A codec to do these and all other HTML entities would be nice.</span>

        <span class="kt">text</span> <span class="o">=</span> <span class="k">unicode</span><span class="p">(</span><span class="kt">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="kt">text</span><span class="p">.</span><span class="n">translate</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">special_characters</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="footnote_backrefs">footnote_backrefs</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">footnote_backrefs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def footnote_backrefs(self, node):

        backlinks = []

        backrefs = node[&#39;backrefs&#39;]

        if self.settings.footnote_backlinks and backrefs:

            if len(backrefs) == 1:

                self.context.append(&#39;&#39;)

                self.context.append(&#39;<span class="nt">&lt;/a&gt;</span>&#39;)

                self.context.append(&#39;<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;fn-backref&quot;</span> <span class="na">href=</span><span class="s">&quot;#%s&quot;</span><span class="nt">&gt;</span>&#39;

                                    % backrefs[0])

            else:

                for (i, backref) in enumerate(backrefs, 1):

                    backlinks.append(&#39;<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;fn-backref&quot;</span> <span class="na">href=</span><span class="s">&quot;#%s&quot;</span><span class="nt">&gt;</span>%s<span class="nt">&lt;/a&gt;</span>&#39;

                                     % (backref, i))

                self.context.append(&#39;<span class="nt">&lt;em&gt;</span>(%s)<span class="nt">&lt;/em&gt;</span> &#39; % &#39;, &#39;.join(backlinks))

                self.context += [&#39;&#39;, &#39;&#39;]

        else:

            self.context.append(&#39;&#39;)

            self.context += [&#39;&#39;, &#39;&#39;]

        # If the node does not only consist of a label.

        if len(node) &gt; 1:

            # If there are preceding backlinks, we do not set class

            # &#39;first&#39;, because we need to retain the top-margin.

            if not backlinks:

                node[1][&#39;classes&#39;].append(&#39;first&#39;)

            node[-1][&#39;classes&#39;].append(&#39;last&#39;)
</code></pre></div>

</details>
<h4 id="is_compactable">is_compactable</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">is_compactable</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">is_compactable</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="k">return</span> <span class="ss">(</span><span class="s1">&#39;</span><span class="s">compact</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">classes</span><span class="s1">&#39;</span>]

                <span class="nv">or</span> <span class="ss">(</span><span class="nv">self</span>.<span class="nv">settings</span>.<span class="nv">compact_lists</span>

                    <span class="nv">and</span> <span class="s1">&#39;</span><span class="s">open</span><span class="s1">&#39;</span> <span class="nv">not</span> <span class="nv">in</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">classes</span><span class="s1">&#39;</span>]

                    <span class="nv">and</span> <span class="ss">(</span><span class="nv">self</span>.<span class="nv">compact_simple</span>

                         <span class="nv">or</span> <span class="nv">self</span>.<span class="nv">topic_classes</span> <span class="o">==</span> [<span class="s1">&#39;</span><span class="s">contents</span><span class="s1">&#39;</span>]

                         # <span class="nv">TODO</span>: <span class="nv">self</span>.<span class="nv">in_contents</span>

                         <span class="nv">or</span> <span class="nv">self</span>.<span class="nv">check_simple_list</span><span class="ss">(</span><span class="nv">node</span><span class="ss">))))</span>
</code></pre></div>

</details>
<h4 id="set_class_on_child">set_class_on_child</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">set_class_on_child</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span><span class="p">,</span>
    <span class="n">class_</span><span class="p">,</span>
    <span class="n">index</span><span class="o">=</span><span class="mi">0</span>
<span class="p">)</span>
</code></pre></div>

<p>Set class <code>class_</code> on the visible child no. index of <code>node</code>.</p>
<p>Do nothing if node has fewer children than <code>index</code>.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="k">set</span><span class="n">_class_on_child</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">class_</span><span class="p">,</span> <span class="k">index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2"></span>

<span class="s2">        Set class `class_` on the visible child no. index of `node`.</span>

<span class="s2">        Do nothing if node has fewer children than `index`.</span>

<span class="s2">        </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="n">children</span> <span class="o">=</span> <span class="err">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="k">in</span> <span class="n">node</span> <span class="k">if</span> <span class="k">not</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">nodes</span><span class="p">.</span><span class="k">Invisible</span><span class="p">)</span><span class="err">]</span>

        <span class="n">try</span><span class="o">:</span>

            <span class="n">child</span> <span class="o">=</span> <span class="n">children</span><span class="err">[</span><span class="k">index</span><span class="err">]</span>

        <span class="k">except</span> <span class="n">IndexError</span><span class="o">:</span>

            <span class="k">return</span>

        <span class="n">child</span><span class="err">[</span><span class="s1">&#39;classes&#39;</span><span class="err">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">class_</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="set_first_last">set_first_last</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">set_first_last</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def set_first_last(self, node):

        self.set_class_on_child(node, &#39;first&#39;, 0)

        self.set_class_on_child(node, &#39;last&#39;, -1)
</code></pre></div>

</details>
<h4 id="should_be_compact_paragraph">should_be_compact_paragraph</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">should_be_compact_paragraph</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Determine if the <p> tags around paragraph <code>node</code> can be omitted.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">should_be_compact_paragraph</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2"></span>

<span class="s2">        Determine if the &lt;p&gt; tags around paragraph ``node`` can be omitted.</span>

<span class="s2">        </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="p">.</span><span class="n">document</span><span class="p">)</span> <span class="k">or</span>

            <span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="p">.</span><span class="n">compound</span><span class="p">))</span><span class="o">:</span>

            <span class="c1"># Never compact paragraphs in document or compound.</span>

            <span class="k">return</span> <span class="no">False</span>

        <span class="k">for</span> <span class="k">key</span><span class="p">,</span> <span class="k">value</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">attlist</span><span class="p">()</span><span class="o">:</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">is_not_default</span><span class="p">(</span><span class="k">key</span><span class="p">)</span> <span class="k">and</span>

                <span class="k">not</span> <span class="p">(</span><span class="k">key</span> <span class="o">==</span> <span class="s1">&#39;classes&#39;</span> <span class="k">and</span> <span class="k">value</span> <span class="k">in</span>

                     <span class="p">(</span><span class="err">[]</span><span class="p">,</span> <span class="err">[</span><span class="s1">&#39;first&#39;</span><span class="err">]</span><span class="p">,</span> <span class="err">[</span><span class="s1">&#39;last&#39;</span><span class="err">]</span><span class="p">,</span> <span class="err">[</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="err">]</span><span class="p">)))</span><span class="o">:</span>

                <span class="c1"># Attribute which needs to survive.</span>

                <span class="k">return</span> <span class="no">False</span>

        <span class="k">first</span> <span class="o">=</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="err">[</span><span class="mi">0</span><span class="err">]</span><span class="p">,</span> <span class="n">nodes</span><span class="p">.</span><span class="n">label</span><span class="p">)</span> <span class="c1"># skip label</span>

        <span class="k">for</span> <span class="n">child</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="p">.</span><span class="n">children</span><span class="err">[</span><span class="k">first</span><span class="o">:</span><span class="err">]</span><span class="o">:</span>

            <span class="c1"># only first paragraph can be compact</span>

            <span class="k">if</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">nodes</span><span class="p">.</span><span class="k">Invisible</span><span class="p">)</span><span class="o">:</span>

                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">child</span> <span class="k">is</span> <span class="n">node</span><span class="o">:</span>

                <span class="n">break</span>

            <span class="k">return</span> <span class="no">False</span>

        <span class="n">parent_length</span> <span class="o">=</span> <span class="n">len</span><span class="p">(</span><span class="err">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">parent</span> <span class="k">if</span> <span class="k">not</span> <span class="n">isinstance</span><span class="p">(</span>

            <span class="n">n</span><span class="p">,</span> <span class="p">(</span><span class="n">nodes</span><span class="p">.</span><span class="k">Invisible</span><span class="p">,</span> <span class="n">nodes</span><span class="p">.</span><span class="n">label</span><span class="p">))</span><span class="err">]</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="n">self</span><span class="p">.</span><span class="n">compact_simple</span>

             <span class="k">or</span> <span class="n">self</span><span class="p">.</span><span class="n">compact_field_list</span>

             <span class="k">or</span> <span class="n">self</span><span class="p">.</span><span class="n">compact_p</span> <span class="k">and</span> <span class="n">parent_length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span><span class="o">:</span>

            <span class="k">return</span> <span class="no">True</span>

        <span class="k">return</span> <span class="no">False</span>
</code></pre></div>

</details>
<h4 id="starttag">starttag</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">starttag</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span><span class="p">,</span>
    <span class="n">tagname</span><span class="p">,</span>
    <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">empty</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">attributes</span>
<span class="p">)</span>
</code></pre></div>

<p>Construct and return a start tag given a node (id &amp; class attributes</p>
<p>are extracted), tag name, and optional attributes.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">starttag</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">tagname</span><span class="p">,</span><span class="w"> </span><span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;\n&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">empty</span><span class="o">=</span><span class="k">False</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">attributes</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Construct and return a start tag given a node (id &amp; class attributes</span>

<span class="ss">        are extracted), tag name, and optional attributes.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">tagname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tagname</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="n">atts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">attributes</span><span class="p">.</span><span class="n">items</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">name.lower()</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">value</span><span class="w"></span>

<span class="w">        </span><span class="n">classes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="n">languages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="n">unify</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">move</span><span class="w"> </span><span class="k">language</span><span class="w"> </span><span class="n">specification</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">cls</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">node</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">[]</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">atts</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="n">split</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">cls</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;language-&#39;</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">languages</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cls</span><span class="o">[</span><span class="n">9:</span><span class="o">]</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">elif</span><span class="w"> </span><span class="n">cls</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">cls</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">classes</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="n">classes</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">languages</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="err">#</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="s1">&#39;lang&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">XHTML</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="s1">&#39;xml:lang&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">1.1</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">self.lang_attribute</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">languages</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">classes</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;class&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">assert</span><span class="w"> </span><span class="s1">&#39;id&#39;</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">atts</span><span class="w"></span>

<span class="w">        </span><span class="n">ids</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;ids&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">[]</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;ids&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">atts</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">ids</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;ids&#39;</span><span class="o">]</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">del</span><span class="w"> </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;ids&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">ids</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;id&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ids</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">ids</span><span class="o">[</span><span class="n">1:</span><span class="o">]</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="err">#</span><span class="w"> </span><span class="k">Add</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="ss">&quot;span&quot;</span><span class="w"> </span><span class="n">elements</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">IDs</span><span class="p">.</span><span class="w">  </span><span class="n">Note</span><span class="w"></span>

<span class="w">                </span><span class="err">#</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="ss">&quot;a&quot;</span><span class="w"> </span><span class="n">elements</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">there</span><span class="w"></span>

<span class="w">                </span><span class="err">#</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">references</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="ss">&quot;a&quot;</span><span class="w"></span>

<span class="w">                </span><span class="err">#</span><span class="w"> </span><span class="n">elements</span><span class="w"> </span><span class="n">aren</span><span class="s1">&#39;t allowed in XHTML (even if they do</span>

<span class="s1">                # not all have a &quot;href&quot; attribute).</span>

<span class="s1">                if empty or isinstance(node,</span>

<span class="s1">                            (nodes.bullet_list, nodes.docinfo,</span>

<span class="s1">                             nodes.definition_list, nodes.enumerated_list,</span>

<span class="s1">                             nodes.field_list, nodes.option_list,</span>

<span class="s1">                             nodes.table)):</span>

<span class="s1">                    # Insert target right in front of element.</span>

<span class="s1">                    prefix.append(&#39;</span><span class="o">&lt;</span><span class="n">span</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="ss">&quot;%s&quot;</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span><span class="s1">&#39; % id)</span>

<span class="s1">                else:</span>

<span class="s1">                    # Non-empty tag.  Place the auxiliary &lt;span&gt; tag</span>

<span class="s1">                    # *inside* the element, as the first child.</span>

<span class="s1">                    suffix += &#39;</span><span class="o">&lt;</span><span class="n">span</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="ss">&quot;%s&quot;</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span><span class="s1">&#39; % id</span>

<span class="s1">        attlist = sorted(atts.items())</span>

<span class="s1">        parts = [tagname]</span>

<span class="s1">        for name, value in attlist:</span>

<span class="s1">            # value=None was used for boolean attributes without</span>

<span class="s1">            # value, but this isn&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">XHTML</span><span class="p">.</span><span class="w"></span>

<span class="w">            </span><span class="n">assert</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">None</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">unicode(v) for v in value</span><span class="o">]</span><span class="w"></span>

<span class="w">                </span><span class="n">parts</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;%s=&quot;%s&quot;&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="nf">lower</span><span class="p">(),</span><span class="w"></span>

<span class="w">                                          </span><span class="n">self</span><span class="p">.</span><span class="n">attval</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="k">values</span><span class="p">))))</span><span class="w"></span>

<span class="w">            </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">parts</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;%s=&quot;%s&quot;&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="nf">lower</span><span class="p">(),</span><span class="w"></span>

<span class="w">                                          </span><span class="n">self</span><span class="p">.</span><span class="n">attval</span><span class="p">(</span><span class="nf">unicode</span><span class="p">(</span><span class="k">value</span><span class="p">))))</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">empty</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">infix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39; /&#39;</span><span class="w"></span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">infix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="k">prefix</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;&lt;%s%s&gt;&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">parts</span><span class="p">),</span><span class="w"> </span><span class="n">infix</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">suffix</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="stylesheet_call">stylesheet_call</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">stylesheet_call</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">path</span>
<span class="p">)</span>
</code></pre></div>

<p>Return code to reference or embed stylesheet file <code>path</code></p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">stylesheet_call</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="k">path</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2">Return code to reference or embed stylesheet file `path`</span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="k">set</span><span class="n">tings</span><span class="p">.</span><span class="n">embed_stylesheet</span><span class="o">:</span>

            <span class="n">try</span><span class="o">:</span>

                <span class="n">content</span> <span class="o">=</span> <span class="k">io</span><span class="p">.</span><span class="n">FileInput</span><span class="p">(</span><span class="n">source_path</span><span class="o">=</span><span class="k">path</span><span class="p">,</span>

                                       <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">).</span><span class="k">read</span><span class="p">()</span>

                <span class="n">self</span><span class="p">.</span><span class="k">set</span><span class="n">tings</span><span class="p">.</span><span class="n">record_dependencies</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="k">path</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">IOError</span> <span class="k">as</span> <span class="n">err</span><span class="o">:</span>

                <span class="n">msg</span> <span class="o">=</span> <span class="n">u</span><span class="s2">&quot;Cannot embed stylesheet &#39;%r&#39;: %s.&quot;</span> <span class="o">%</span> <span class="p">(</span>

                                <span class="k">path</span><span class="p">,</span> <span class="n">SafeString</span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">strerror</span><span class="p">))</span>

                <span class="n">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">.</span><span class="k">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

                <span class="k">return</span> <span class="s1">&#39;&lt;--- %s ---&gt;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">msg</span>

            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">embedded_stylesheet</span> <span class="o">%</span> <span class="n">content</span>

        <span class="c1"># else link to style file:</span>

        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="k">set</span><span class="n">tings</span><span class="p">.</span><span class="n">stylesheet_path</span><span class="o">:</span>

            <span class="c1"># adapt path relative to output (cf. config.html#stylesheet-path)</span>

            <span class="k">path</span> <span class="o">=</span> <span class="n">utils</span><span class="p">.</span><span class="n">relative_path</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="k">set</span><span class="n">tings</span><span class="p">.</span><span class="n">_destination</span><span class="p">,</span> <span class="k">path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">stylesheet_link</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="k">path</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="unimplemented_visit">unimplemented_visit</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unimplemented_visit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="s">unimplemented_visit(self,</span><span class="w"> </span><span class="s">node):</span><span class="w"></span>

<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">NotImplementedError</span><span class="p">(</span><span class="s">&#39;visiting unimplemented node type: %s&#39;</span><span class="w"></span>

<span class="w">                                  </span><span class="c">% node.__class__.__name__)</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="unknown_departure">unknown_departure</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unknown_departure</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Called before exiting unknown <code>Node</code> types.</p>
<p>Raise exception unless overridden.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">unknown_departure</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2"></span>

<span class="s2">        Called before exiting unknown `Node` types.</span>

<span class="s2">        Raise exception unless overridden.</span>

<span class="s2">        </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="k">if</span>  <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="k">set</span><span class="n">tings</span><span class="p">.</span><span class="n">strict_visitor</span>

             <span class="k">or</span> <span class="n">node</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span> <span class="k">not</span> <span class="k">in</span> <span class="n">self</span><span class="p">.</span><span class="k">optional</span><span class="p">)</span><span class="o">:</span>

            <span class="n">raise</span> <span class="n">NotImplementedError</span><span class="p">(</span>

                <span class="s1">&#39;%s departing unknown node type: %s&#39;</span>

                <span class="o">%</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">__class__</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">))</span>
</code></pre></div>

</details>
<h4 id="unknown_visit">unknown_visit</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">unknown_visit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Called when entering unknown <code>Node</code> types.</p>
<p>Raise an exception unless overridden.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">unknown_visit</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span><span class="o">:</span>

        <span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2"></span>

<span class="s2">        Called when entering unknown `Node` types.</span>

<span class="s2">        Raise an exception unless overridden.</span>

<span class="s2">        </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span>

        <span class="k">if</span>  <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="k">set</span><span class="n">tings</span><span class="p">.</span><span class="n">strict_visitor</span>

             <span class="k">or</span> <span class="n">node</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span> <span class="k">not</span> <span class="k">in</span> <span class="n">self</span><span class="p">.</span><span class="k">optional</span><span class="p">)</span><span class="o">:</span>

            <span class="n">raise</span> <span class="n">NotImplementedError</span><span class="p">(</span>

                <span class="s1">&#39;%s visiting unknown node type: %s&#39;</span>

                <span class="o">%</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">__class__</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span><span class="p">))</span>
</code></pre></div>

</details>
<h4 id="visit_text">visit_Text</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_Text</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_Text</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">text</span> <span class="o">=</span> <span class="nv">node</span>.<span class="nv">astext</span><span class="ss">()</span>

        <span class="nv">encoded</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">encode</span><span class="ss">(</span><span class="nv">text</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">in_mailto</span> <span class="nv">and</span> <span class="nv">self</span>.<span class="nv">settings</span>.<span class="nv">cloak_email_addresses</span>:

            <span class="nv">encoded</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">cloak_email</span><span class="ss">(</span><span class="nv">encoded</span><span class="ss">)</span>

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">encoded</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_abbreviation">visit_abbreviation</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_abbreviation</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_abbreviation(self, node):

        # @@@ implementation incomplete (&quot;title&quot; attribute)

        self.body.append(self.starttag(node, &#39;abbr&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_acronym">visit_acronym</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_acronym</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_acronym(self, node):

        # @@@ implementation incomplete (&quot;title&quot; attribute)

        self.body.append(self.starttag(node, &#39;acronym&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_address">visit_address</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_address</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_address(self, node):

        self.visit_docinfo_item(node, &#39;address&#39;, meta=False)

        self.body.append(self.starttag(node, &#39;pre&#39;, CLASS=&#39;address&#39;))
</code></pre></div>

</details>
<h4 id="visit_admonition">visit_admonition</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_admonition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_admonition(self, node):

        node[&#39;classes&#39;].insert(0, &#39;admonition&#39;)

        self.body.append(self.starttag(node, &#39;div&#39;))

        self.set_first_last(node)
</code></pre></div>

</details>
<h4 id="visit_attribution">visit_attribution</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_attribution</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_attribution(self, node):

        prefix, suffix = self.attribution_formats[self.settings.attribution]

        self.context.append(suffix)

        self.body.append(

            self.starttag(node, &#39;p&#39;, prefix, CLASS=&#39;attribution&#39;))
</code></pre></div>

</details>
<h4 id="visit_author">visit_author</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_author</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_author</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">parent</span>, <span class="nv">nodes</span>.<span class="nv">authors</span><span class="ss">)</span>:

            <span class="k">if</span> <span class="nv">self</span>.<span class="nv">author_in_authors</span>:

                <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s">&lt;br /&gt;</span><span class="s1">&#39;</span><span class="ss">)</span>

        <span class="k">else</span>:

            <span class="nv">self</span>.<span class="nv">visit_docinfo_item</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">author</span><span class="s1">&#39;</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_authors">visit_authors</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_authors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_authors(self, node):

        self.visit_docinfo_item(node, &#39;authors&#39;)

        self.author_in_authors = False  # initialize
</code></pre></div>

</details>
<h4 id="visit_block_quote">visit_block_quote</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_block_quote</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_block_quote(self, node):

        self.body.append(self.starttag(node, &#39;blockquote&#39;))
</code></pre></div>

</details>
<h4 id="visit_bullet_list">visit_bullet_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_bullet_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_bullet_list</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">atts</span> <span class="o">=</span> {}

        <span class="nv">old_compact_simple</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">compact_simple</span>

        <span class="nv">self</span>.<span class="nv">context</span>.<span class="nv">append</span><span class="ss">((</span><span class="nv">self</span>.<span class="nv">compact_simple</span>, <span class="nv">self</span>.<span class="nv">compact_p</span><span class="ss">))</span>

        <span class="nv">self</span>.<span class="nv">compact_p</span> <span class="o">=</span> <span class="nv">None</span>

        <span class="nv">self</span>.<span class="nv">compact_simple</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">is_compactable</span><span class="ss">(</span><span class="nv">node</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">compact_simple</span> <span class="nv">and</span> <span class="nv">not</span> <span class="nv">old_compact_simple</span>:

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>] <span class="o">=</span> <span class="s1">&#39;</span><span class="s">simple</span><span class="s1">&#39;</span>

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">ul</span><span class="s1">&#39;</span>, <span class="o">**</span><span class="nv">atts</span><span class="ss">))</span>
</code></pre></div>

</details>
<h4 id="visit_caption">visit_caption</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_caption</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_caption(self, node):

        self.body.append(self.starttag(node, &#39;p&#39;, &#39;&#39;, CLASS=&#39;caption&#39;))
</code></pre></div>

</details>
<h4 id="visit_citation">visit_citation</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_citation</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_citation(self, node):

        self.body.append(self.starttag(node, &#39;table&#39;,

                                       CLASS=&#39;docutils citation&#39;,

                                       frame=&quot;void&quot;, rules=&quot;none&quot;))

        self.body.append(&#39;<span class="nt">&lt;colgroup&gt;&lt;col</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span> <span class="nt">/&gt;&lt;col</span> <span class="nt">/&gt;&lt;/colgroup&gt;</span>\n&#39;

                         &#39;<span class="nt">&lt;tbody</span> <span class="na">valign=</span><span class="s">&quot;top&quot;</span><span class="nt">&gt;</span>\n&#39;

                         &#39;<span class="nt">&lt;tr&gt;</span>&#39;)

        self.footnote_backrefs(node)
</code></pre></div>

</details>
<h4 id="visit_citation_reference">visit_citation_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_citation_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_citation_reference</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">href</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="s">#</span><span class="s1">&#39;</span>

        <span class="k">if</span> <span class="s1">&#39;</span><span class="s">refid</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>:

            <span class="nv">href</span> <span class="o">+=</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">refid</span><span class="s1">&#39;</span>]

        <span class="nv">elif</span> <span class="s1">&#39;</span><span class="s">refname</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>:

            <span class="nv">href</span> <span class="o">+=</span> <span class="nv">self</span>.<span class="nv">document</span>.<span class="nv">nameids</span>[<span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">refname</span><span class="s1">&#39;</span>]]

        # <span class="k">else</span>: # <span class="nv">TODO</span> <span class="nv">system</span> <span class="nv">message</span> <span class="ss">(</span><span class="nv">or</span> <span class="nv">already</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">transform</span><span class="ss">)</span>?

        # <span class="s1">&#39;</span><span class="s">Citation reference missing.</span><span class="s1">&#39;</span>

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span>

            <span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">a</span><span class="s1">&#39;</span>, <span class="s1">&#39;</span><span class="s">[</span><span class="s1">&#39;</span>, <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">citation-reference</span><span class="s1">&#39;</span>, <span class="nv">href</span><span class="o">=</span><span class="nv">href</span><span class="ss">))</span>
</code></pre></div>

</details>
<h4 id="visit_classifier">visit_classifier</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_classifier</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_classifier(self, node):

        self.body.append(&#39; <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;classifier-delimiter&quot;</span><span class="nt">&gt;</span>:<span class="nt">&lt;/span&gt;</span> &#39;)

        self.body.append(self.starttag(node, &#39;span&#39;, &#39;&#39;, CLASS=&#39;classifier&#39;))
</code></pre></div>

</details>
<h4 id="visit_colspec">visit_colspec</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_colspec</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_colspec(self, node):

        self.colspecs.append(node)

        # &quot;stubs&quot; list is an attribute of the tgroup element:

        node.parent.stubs.append(node.attributes.get(&#39;stub&#39;))
</code></pre></div>

</details>
<h4 id="visit_comment">visit_comment</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_comment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span><span class="p">,</span>
    <span class="n">sub</span><span class="o">=&lt;</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">method</span> <span class="n">sub</span> <span class="n">of</span> <span class="n">re</span><span class="o">.</span><span class="n">Pattern</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000024728A33500</span><span class="o">&gt;</span>
<span class="p">)</span>
</code></pre></div>

<p>Escape double-dashes in comment text.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">visit_comment</span><span class="p">(</span><span class="kr">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span>

                      <span class="n">sub</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;-(?=-)&#39;</span><span class="p">).</span><span class="n">sub</span><span class="p">)</span><span class="o">:</span>

        <span class="s">&quot;&quot;&quot;Escape double-dashes in comment text.&quot;&quot;&quot;</span>

        <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;&lt;!-- %s --&gt;\n&#39;</span> <span class="o">%</span> <span class="n">sub</span><span class="p">(</span><span class="s">&#39;- &#39;</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">astext</span><span class="p">()))</span>

        <span class="err">#</span> <span class="n">Content</span> <span class="n">already</span> <span class="n">processed</span><span class="o">:</span>

        <span class="n">raise</span> <span class="n">nodes</span><span class="p">.</span><span class="n">SkipNode</span>
</code></pre></div>

</details>
<h4 id="visit_compound">visit_compound</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_compound</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="s s-Atom">def</span> <span class="nf">visit_compound</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">node</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">body</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">.</span><span class="nf">starttag</span><span class="p">(</span><span class="s s-Atom">node</span><span class="p">,</span> <span class="s s-Atom">&#39;div&#39;</span><span class="p">,</span> <span class="nv">CLASS</span><span class="s s-Atom">=&#39;compound&#39;</span><span class="p">))</span>

        <span class="s s-Atom">if</span> <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">node</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="s s-Atom">:</span>

            <span class="s s-Atom">node</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s s-Atom">&#39;classes&#39;</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">&#39;compound-first&#39;</span><span class="p">)</span>

            <span class="s s-Atom">node</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s s-Atom">&#39;classes&#39;</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">&#39;compound-last&#39;</span><span class="p">)</span>

            <span class="s s-Atom">for</span> <span class="s s-Atom">child</span> <span class="s s-Atom">in</span> <span class="s s-Atom">node</span><span class="p">[</span><span class="mi">1</span><span class="p">:-</span><span class="mi">1</span><span class="p">]</span><span class="s s-Atom">:</span>

                <span class="s s-Atom">child</span><span class="p">[</span><span class="s s-Atom">&#39;classes&#39;</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">&#39;compound-middle&#39;</span><span class="p">)</span>
</code></pre></div>

</details>
<h4 id="visit_contact">visit_contact</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_contact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_contact(self, node):

        self.visit_docinfo_item(node, &#39;contact&#39;, meta=False)
</code></pre></div>

</details>
<h4 id="visit_container">visit_container</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_container</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_container(self, node):

        self.body.append(self.starttag(node, &#39;div&#39;, CLASS=&#39;docutils container&#39;))
</code></pre></div>

</details>
<h4 id="visit_copyright">visit_copyright</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_copyright</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_copyright(self, node):

        self.visit_docinfo_item(node, &#39;copyright&#39;)
</code></pre></div>

</details>
<h4 id="visit_date">visit_date</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_date</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_date(self, node):

        self.visit_docinfo_item(node, &#39;date&#39;)
</code></pre></div>

</details>
<h4 id="visit_decoration">visit_decoration</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_decoration</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_decoration(self, node):

        pass
</code></pre></div>

</details>
<h4 id="visit_definition">visit_definition</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_definition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_definition(self, node):

        self.body.append(&#39;&lt;/dt&gt;\n&#39;)

        self.body.append(self.starttag(node, &#39;dd&#39;, &#39;&#39;))

        self.set_first_last(node)
</code></pre></div>

</details>
<h4 id="visit_definition_list">visit_definition_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_definition_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_definition_list(self, node):

        self.body.append(self.starttag(node, &#39;dl&#39;, CLASS=&#39;docutils&#39;))
</code></pre></div>

</details>
<h4 id="visit_definition_list_item">visit_definition_list_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_definition_list_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_definition_list_item(self, node):

        # pass class arguments, ids and names to definition term:

        node.children[0][&#39;classes&#39;] = (

            node.get(&#39;classes&#39;, []) + node.children[0].get(&#39;classes&#39;, []))

        node.children[0][&#39;ids&#39;] = (

            node.get(&#39;ids&#39;, []) + node.children[0].get(&#39;ids&#39;, []))

        node.children[0][&#39;names&#39;] = (

            node.get(&#39;names&#39;, []) + node.children[0].get(&#39;names&#39;, []))
</code></pre></div>

</details>
<h4 id="visit_description">visit_description</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_description</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_description(self, node):

        self.body.append(self.starttag(node, &#39;td&#39;, &#39;&#39;))

        self.set_first_last(node)
</code></pre></div>

</details>
<h4 id="visit_docinfo">visit_docinfo</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_docinfo</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_docinfo(self, node):

        self.context.append(len(self.body))

        self.body.append(self.starttag(node, &#39;table&#39;,

                                       CLASS=&#39;docinfo&#39;,

                                       frame=&quot;void&quot;, rules=&quot;none&quot;))

        self.body.append(&#39;&lt;col class=&quot;docinfo-name&quot; /&gt;\n&#39;

                         &#39;&lt;col class=&quot;docinfo-content&quot; /&gt;\n&#39;

                         &#39;&lt;tbody valign=&quot;top&quot;&gt;\n&#39;)

        self.in_docinfo = True
</code></pre></div>

</details>
<h4 id="visit_docinfo_item">visit_docinfo_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_docinfo_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span><span class="p">,</span>
    <span class="n">name</span><span class="p">,</span>
    <span class="n">meta</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">visit_docinfo_item</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">meta</span><span class="o">=</span><span class="k">True</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">meta</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">meta_tag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;meta name=&quot;%s&quot; content=&quot;%s&quot; /&gt;\n&#39;</span><span class="w"> </span><span class="err">\</span><span class="w"></span>

<span class="w">                       </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">attval</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">astext</span><span class="p">()))</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">add_meta</span><span class="p">(</span><span class="n">meta_tag</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;tr&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;th class=&quot;docinfo-name&quot;&gt;%s:&lt;/th&gt;\n&lt;td&gt;&#39;</span><span class="w"></span>

<span class="w">                         </span><span class="o">%</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="k">language</span><span class="p">.</span><span class="n">labels</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">nodes</span><span class="p">.</span><span class="k">Element</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">node</span><span class="o">[</span><span class="n">0</span><span class="o">][</span><span class="n">&#39;classes&#39;</span><span class="o">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">[</span><span class="n">-1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">nodes</span><span class="p">.</span><span class="k">Element</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">node</span><span class="o">[</span><span class="n">-1</span><span class="o">][</span><span class="n">&#39;classes&#39;</span><span class="o">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;last&#39;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="visit_doctest_block">visit_doctest_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_doctest_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_doctest_block(self, node):

        self.body.append(self.starttag(node, &#39;pre&#39;, CLASS=&#39;doctest-block&#39;))
</code></pre></div>

</details>
<h4 id="visit_document">visit_document</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_document</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_document(self, node):

        title = (node.get(&#39;title&#39;, &#39;&#39;) or os.path.basename(node[&#39;source&#39;])

                 or &#39;docutils document without title&#39;)

        self.head.append(&#39;<span class="nt">&lt;title&gt;</span>%s<span class="nt">&lt;/title&gt;</span>\n&#39; % self.encode(title))
</code></pre></div>

</details>
<h4 id="visit_emphasis">visit_emphasis</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_emphasis</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_emphasis(self, node):

        self.body.append(self.starttag(node, &#39;em&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_entry">visit_entry</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nt">def</span> <span class="nt">visit_entry</span><span class="o">(</span><span class="nt">self</span><span class="o">,</span> <span class="nt">node</span><span class="o">):</span>

        <span class="nt">writers</span><span class="p">.</span><span class="nc">_html_base</span><span class="p">.</span><span class="nc">HTMLTranslator</span><span class="p">.</span><span class="nc">visit_entry</span><span class="o">(</span><span class="nt">self</span><span class="o">,</span> <span class="nt">node</span><span class="o">)</span>

        <span class="nt">if</span> <span class="nt">len</span><span class="o">(</span><span class="nt">node</span><span class="o">)</span> <span class="o">==</span> <span class="nt">0</span><span class="o">:</span>              <span class="err">#</span> <span class="nt">empty</span> <span class="nt">cell</span>

            <span class="nt">self</span><span class="p">.</span><span class="nc">body</span><span class="p">.</span><span class="nc">append</span><span class="o">(</span><span class="s1">&#39;&amp;nbsp;&#39;</span><span class="o">)</span>

        <span class="nt">self</span><span class="p">.</span><span class="nc">set_first_last</span><span class="o">(</span><span class="nt">node</span><span class="o">)</span>
</code></pre></div>

</details>
<h4 id="visit_enumerated_list">visit_enumerated_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_enumerated_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>The 'start' attribute does not conform to HTML 4.01's strict.dtd, but</p>
<p>cannot be emulated in CSS1 (HTML 5 reincludes it).</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">visit_enumerated_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        The &#39;start&#39; attribute does not conform to HTML 4.01&#39;s strict.dtd, but</span>

<span class="sd">        cannot be emulated in CSS1 (HTML 5 reincludes it).</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">atts</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="s1">&#39;start&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>

            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;enumtype&#39;</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>

            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s1">&#39;enumtype&#39;</span><span class="p">]</span>

        <span class="c1"># @@@ To do: prefix, suffix. How? Change prefix/suffix to a</span>

        <span class="c1"># single &quot;format&quot; attribute? Use CSS2?</span>

        <span class="n">old_compact_simple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">compact_p</span> <span class="o">=</span> <span class="n">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_compactable</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compact_simple</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">old_compact_simple</span><span class="p">:</span>

            <span class="n">atts</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">atts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; simple&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;ol&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">atts</span><span class="p">))</span>
</code></pre></div>

</details>
<h4 id="visit_field">visit_field</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_field</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_field(self, node):

        self.body.append(self.starttag(node, &#39;tr&#39;, &#39;&#39;, CLASS=&#39;field&#39;))
</code></pre></div>

</details>
<h4 id="visit_field_body">visit_field_body</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_field_body</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_field_body</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">td</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span>, <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">field-body</span><span class="s1">&#39;</span><span class="ss">))</span>

        <span class="nv">self</span>.<span class="nv">set_class_on_child</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">first</span><span class="s1">&#39;</span>, <span class="mi">0</span><span class="ss">)</span>

        <span class="nv">field</span> <span class="o">=</span> <span class="nv">node</span>.<span class="nv">parent</span>

        <span class="k">if</span> <span class="ss">(</span><span class="nv">self</span>.<span class="nv">compact_field_list</span> <span class="nv">or</span>

            <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">field</span>.<span class="nv">parent</span>, <span class="nv">nodes</span>.<span class="nv">docinfo</span><span class="ss">)</span> <span class="nv">or</span>

            <span class="nv">field</span>.<span class="nv">parent</span>.<span class="nv">index</span><span class="ss">(</span><span class="nv">field</span><span class="ss">)</span> <span class="o">==</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">field</span>.<span class="nv">parent</span><span class="ss">)</span> <span class="o">-</span> <span class="mi">1</span><span class="ss">)</span>:

            # <span class="k">If</span> <span class="nv">we</span> <span class="nv">are</span> <span class="nv">in</span> <span class="nv">a</span> <span class="nv">compact</span> <span class="nv">list</span>, <span class="nv">the</span> <span class="nv">docinfo</span>, <span class="nv">or</span> <span class="k">if</span> <span class="nv">this</span> <span class="nv">is</span>

            # <span class="nv">the</span> <span class="nv">last</span> <span class="nv">field</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">field</span> <span class="nv">list</span>, <span class="k">do</span> <span class="nv">not</span> <span class="nv">add</span> <span class="nv">vertical</span>

            # <span class="nv">space</span> <span class="nv">after</span> <span class="nv">last</span> <span class="nv">element</span>.

            <span class="nv">self</span>.<span class="nv">set_class_on_child</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">last</span><span class="s1">&#39;</span>, <span class="o">-</span><span class="mi">1</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_field_list">visit_field_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_field_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_field_list</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">self</span>.<span class="nv">context</span>.<span class="nv">append</span><span class="ss">((</span><span class="nv">self</span>.<span class="nv">compact_field_list</span>, <span class="nv">self</span>.<span class="nv">compact_p</span><span class="ss">))</span>

        <span class="nv">self</span>.<span class="nv">compact_p</span> <span class="o">=</span> <span class="nv">None</span>

        <span class="k">if</span> <span class="s1">&#39;</span><span class="s">compact</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">classes</span><span class="s1">&#39;</span>]:

            <span class="nv">self</span>.<span class="nv">compact_field_list</span> <span class="o">=</span> <span class="nv">True</span>

        <span class="nv">elif</span> <span class="ss">(</span><span class="nv">self</span>.<span class="nv">settings</span>.<span class="nv">compact_field_lists</span>

              <span class="nv">and</span> <span class="s1">&#39;</span><span class="s">open</span><span class="s1">&#39;</span> <span class="nv">not</span> <span class="nv">in</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">classes</span><span class="s1">&#39;</span>]<span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">compact_field_list</span> <span class="o">=</span> <span class="nv">True</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">compact_field_list</span>:

            <span class="k">for</span> <span class="nv">field</span> <span class="nv">in</span> <span class="nv">node</span>:

                <span class="nv">field_body</span> <span class="o">=</span> <span class="nv">field</span>[<span class="o">-</span><span class="mi">1</span>]

                <span class="nv">assert</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">field_body</span>, <span class="nv">nodes</span>.<span class="nv">field_body</span><span class="ss">)</span>

                <span class="nv">children</span> <span class="o">=</span> [<span class="nv">n</span> <span class="k">for</span> <span class="nv">n</span> <span class="nv">in</span> <span class="nv">field_body</span>

                            <span class="k">if</span> <span class="nv">not</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">n</span>, <span class="nv">nodes</span>.<span class="nv">Invisible</span><span class="ss">)</span>]

                <span class="k">if</span> <span class="nv">not</span> <span class="ss">(</span><span class="nv">len</span><span class="ss">(</span><span class="nv">children</span><span class="ss">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="nv">or</span>

                        <span class="nv">len</span><span class="ss">(</span><span class="nv">children</span><span class="ss">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="nv">and</span>

                        <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">children</span>[<span class="mi">0</span>],

                                   <span class="ss">(</span><span class="nv">nodes</span>.<span class="nv">paragraph</span>, <span class="nv">nodes</span>.<span class="nv">line_block</span><span class="ss">)))</span>:

                    <span class="nv">self</span>.<span class="nv">compact_field_list</span> <span class="o">=</span> <span class="nv">False</span>

                    <span class="k">break</span>

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">table</span><span class="s1">&#39;</span>, <span class="nv">frame</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">void</span><span class="s1">&#39;</span>,

                                       <span class="nv">rules</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">none</span><span class="s1">&#39;</span>,

                                       <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">docutils field-list</span><span class="s1">&#39;</span><span class="ss">))</span>

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">&lt;col class=&quot;field-name&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>

                         <span class="s1">&#39;</span><span class="s">&lt;col class=&quot;field-body&quot; /&gt;</span><span class="se">\n</span><span class="s1">&#39;</span>

                         <span class="s1">&#39;</span><span class="s">&lt;tbody valign=&quot;top&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_field_name">visit_field_name</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_field_name</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_field_name(self, node):

        atts = {}

        if self.in_docinfo:

            atts[&#39;class&#39;] = &#39;docinfo-name&#39;

        else:

            atts[&#39;class&#39;] = &#39;field-name&#39;

        if ( self.settings.field_name_limit

             and len(node.astext()) &gt; self.settings.field_name_limit):

            atts[&#39;colspan&#39;] = 2

            self.context.append(&#39;<span class="nt">&lt;/tr&gt;</span>\n&#39;

                                + self.starttag(node.parent, &#39;tr&#39;, &#39;&#39;,

                                                CLASS=&#39;field&#39;)

                                + &#39;<span class="nt">&lt;td&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/td&gt;</span>&#39;)

        else:

            self.context.append(&#39;&#39;)

        self.body.append(self.starttag(node, &#39;th&#39;, &#39;&#39;, **atts))
</code></pre></div>

</details>
<h4 id="visit_figure">visit_figure</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_figure</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_figure</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">atts</span> <span class="o">=</span> {<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>: <span class="s1">&#39;</span><span class="s">figure</span><span class="s1">&#39;</span>}

        <span class="k">if</span> <span class="nv">node</span>.<span class="nv">get</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">width</span><span class="s1">&#39;</span><span class="ss">)</span>:

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">style</span><span class="s1">&#39;</span>] <span class="o">=</span> <span class="s1">&#39;</span><span class="s">width: %s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">width</span><span class="s1">&#39;</span>]

        <span class="k">if</span> <span class="nv">node</span>.<span class="nv">get</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">align</span><span class="s1">&#39;</span><span class="ss">)</span>:

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>] <span class="o">+=</span> <span class="s2">&quot;</span><span class="s"> align-</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">align</span><span class="s1">&#39;</span>]

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">div</span><span class="s1">&#39;</span>, <span class="o">**</span><span class="nv">atts</span><span class="ss">))</span>
</code></pre></div>

</details>
<h4 id="visit_footer">visit_footer</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_footer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_footer(self, node):

        self.context.append(len(self.body))
</code></pre></div>

</details>
<h4 id="visit_footnote">visit_footnote</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_footnote</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_footnote(self, node):

        self.body.append(self.starttag(node, &#39;table&#39;,

                                       CLASS=&#39;docutils footnote&#39;,

                                       frame=&quot;void&quot;, rules=&quot;none&quot;))

        self.body.append(&#39;<span class="nt">&lt;colgroup&gt;&lt;col</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span> <span class="nt">/&gt;&lt;col</span> <span class="nt">/&gt;&lt;/colgroup&gt;</span>\n&#39;

                         &#39;<span class="nt">&lt;tbody</span> <span class="na">valign=</span><span class="s">&quot;top&quot;</span><span class="nt">&gt;</span>\n&#39;

                         &#39;<span class="nt">&lt;tr&gt;</span>&#39;)

        self.footnote_backrefs(node)
</code></pre></div>

</details>
<h4 id="visit_footnote_reference">visit_footnote_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_footnote_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_footnote_reference(self, node):

        href = &#39;#&#39; + node[&#39;refid&#39;]

        format = self.settings.footnote_references

        if format == &#39;brackets&#39;:

            suffix = &#39;[&#39;

            self.context.append(&#39;]&#39;)

        else:

            assert format == &#39;superscript&#39;

            suffix = &#39;<span class="nt">&lt;sup&gt;</span>&#39;

            self.context.append(&#39;<span class="nt">&lt;/sup&gt;</span>&#39;)

        self.body.append(self.starttag(node, &#39;a&#39;, suffix,

                                       CLASS=&#39;footnote-reference&#39;, href=href))
</code></pre></div>

</details>
<h4 id="visit_generated">visit_generated</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_generated</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_generated(self, node):

        pass
</code></pre></div>

</details>
<h4 id="visit_header">visit_header</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_header</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_header(self, node):

        self.context.append(len(self.body))
</code></pre></div>

</details>
<h4 id="visit_image">visit_image</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_image</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">visit_image</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="n">atts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">[</span><span class="n">&#39;uri&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="n">ext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="k">path</span><span class="p">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">ext</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">object_image_types</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;data&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uri</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;type&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">object_image_types</span><span class="o">[</span><span class="n">ext</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;src&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uri</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;alt&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">uri</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="nc">image</span><span class="w"> </span><span class="k">size</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;width&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">node</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;width&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">[</span><span class="n">&#39;width&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;height&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">node</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;height&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">[</span><span class="n">&#39;height&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;scale&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">node</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PIL</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="s1">&#39;height&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">node</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="ow">and</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">file_insertion_enabled</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="n">imagepath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">url2pathname</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span><span class="w"></span>

<span class="w">                </span><span class="k">try</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PIL</span><span class="p">.</span><span class="nc">Image</span><span class="p">.</span><span class="k">open</span><span class="p">(</span><span class="w"></span>

<span class="w">                            </span><span class="n">imagepath</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">getfilesystemencoding</span><span class="p">()))</span><span class="w"></span>

<span class="w">                </span><span class="ow">except</span><span class="w"> </span><span class="p">(</span><span class="n">IOError</span><span class="p">,</span><span class="w"> </span><span class="n">UnicodeEncodeError</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">pass</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="nl">TODO</span><span class="p">:</span><span class="w"> </span><span class="n">warn</span><span class="vm">?</span><span class="w"></span>

<span class="w">                </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="n">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">record_dependencies</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="n">imagepath</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="s1">&#39;\\&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">))</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;width&#39;</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">atts</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;width&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;%dpx&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">img</span><span class="p">.</span><span class="k">size</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"></span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;height&#39;</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">atts</span><span class="p">:</span><span class="w"></span>

<span class="w">                        </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;height&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;%dpx&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">img</span><span class="p">.</span><span class="k">size</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="w"></span>

<span class="w">                    </span><span class="n">del</span><span class="w"> </span><span class="n">img</span><span class="w"></span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">att_name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="s1">&#39;width&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;height&#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">att_name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">atts</span><span class="p">:</span><span class="w"></span>

<span class="w">                    </span><span class="k">match</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">re</span><span class="p">.</span><span class="k">match</span><span class="p">(</span><span class="n">r</span><span class="s1">&#39;([0-9.]+)(\S*)$&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">atts</span><span class="o">[</span><span class="n">att_name</span><span class="o">]</span><span class="p">)</span><span class="w"></span>

<span class="w">                    </span><span class="n">assert</span><span class="w"> </span><span class="k">match</span><span class="w"></span>

<span class="w">                    </span><span class="n">atts</span><span class="o">[</span><span class="n">att_name</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;%s%s&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="w"></span>

<span class="w">                        </span><span class="nc">float</span><span class="p">(</span><span class="k">match</span><span class="p">.</span><span class="k">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="nc">float</span><span class="p">(</span><span class="n">node</span><span class="o">[</span><span class="n">&#39;scale&#39;</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="p">),</span><span class="w"></span>

<span class="w">                        </span><span class="k">match</span><span class="p">.</span><span class="k">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="w"></span>

<span class="w">        </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">att_name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="s1">&#39;width&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;height&#39;</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">att_name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">atts</span><span class="p">:</span><span class="w"></span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">re</span><span class="p">.</span><span class="k">match</span><span class="p">(</span><span class="n">r</span><span class="s1">&#39;^[0-9.]+$&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">atts</span><span class="o">[</span><span class="n">att_name</span><span class="o">]</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="n">Interpret</span><span class="w"> </span><span class="n">unitless</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">pixels</span><span class="p">.</span><span class="w"></span>

<span class="w">                    </span><span class="n">atts</span><span class="o">[</span><span class="n">att_name</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;px&#39;</span><span class="w"></span>

<span class="w">                </span><span class="n">style</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;%s: %s;&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="n">att_name</span><span class="p">,</span><span class="w"> </span><span class="n">atts</span><span class="o">[</span><span class="n">att_name</span><span class="o">]</span><span class="p">))</span><span class="w"></span>

<span class="w">                </span><span class="n">del</span><span class="w"> </span><span class="n">atts</span><span class="o">[</span><span class="n">att_name</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">style</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;style&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">style</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nodes</span><span class="p">.</span><span class="n">TextElement</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"></span>

<span class="w">            </span><span class="p">(</span><span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nodes</span><span class="p">.</span><span class="n">reference</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"></span>

<span class="w">             </span><span class="ow">not</span><span class="w"> </span><span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="p">.</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">nodes</span><span class="p">.</span><span class="n">TextElement</span><span class="p">)))</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="err">#</span><span class="w"> </span><span class="n">Inline</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">surrounded</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">&lt;</span><span class="n">a</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span><span class="p">.</span><span class="w"></span>

<span class="w">            </span><span class="n">suffix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"></span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">suffix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;align&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">node</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">atts</span><span class="o">[</span><span class="n">&#39;class&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;align-%s&#39;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">node</span><span class="o">[</span><span class="n">&#39;align&#39;</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">ext</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">object_image_types</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="err">#</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">NOT</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="nl">tag</span><span class="p">:</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">rendering</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">browsers</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">atts</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"></span>

<span class="w">                             </span><span class="n">node</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">uri</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;&lt;/object&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">suffix</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">else</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">emptytag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;img&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">suffix</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">atts</span><span class="p">))</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="visit_inline">visit_inline</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_inline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_inline(self, node):

        self.body.append(self.starttag(node, &#39;span&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_label">visit_label</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_label</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_label(self, node):

        self.body.append(self.starttag(node, &#39;td&#39;, &#39;%s[&#39; % self.context.pop(),

                                       CLASS=&#39;label&#39;))
</code></pre></div>

</details>
<h4 id="visit_legend">visit_legend</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_legend</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_legend(self, node):

        self.body.append(self.starttag(node, &#39;div&#39;, CLASS=&#39;legend&#39;))
</code></pre></div>

</details>
<h4 id="visit_line">visit_line</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_line</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_line</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">div</span><span class="s1">&#39;</span>, <span class="nv">suffix</span><span class="o">=</span><span class="s1">&#39;&#39;</span>, <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">line</span><span class="s1">&#39;</span><span class="ss">))</span>

        <span class="k">if</span> <span class="nv">not</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">node</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">&lt;br /&gt;</span><span class="s1">&#39;</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_line_block">visit_line_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_line_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_line_block(self, node):

        self.body.append(self.starttag(node, &#39;div&#39;, CLASS=&#39;line-block&#39;))
</code></pre></div>

</details>
<h4 id="visit_list_item">visit_list_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_list_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_list_item</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">li</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span><span class="ss">))</span>

        <span class="k">if</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">node</span><span class="ss">)</span>:

            <span class="nv">node</span>[<span class="mi">0</span>][<span class="s1">&#39;</span><span class="s">classes</span><span class="s1">&#39;</span>].<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">first</span><span class="s1">&#39;</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_literal">visit_literal</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_literal</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_literal(self, node):

        # special case: &quot;code&quot; role

        classes = node.get(&#39;classes&#39;, [])

        if &#39;code&#39; in classes:

            # filter &#39;code&#39; from class arguments

            node[&#39;classes&#39;] = [cls for cls in classes if cls != &#39;code&#39;]

            self.body.append(self.starttag(node, &#39;code&#39;, &#39;&#39;))

            return

        self.body.append(

            self.starttag(node, &#39;tt&#39;, &#39;&#39;, CLASS=&#39;docutils literal&#39;))

        text = node.astext()

        for token in self.words_and_spaces.findall(text):

            if token.strip():

                # Protect text like &quot;--an-option&quot; and the regular expression

                # ``[+]?(\d+(\.\d*)?|\.\d+)`` from bad line wrapping

                if self.in_word_wrap_point.search(token):

                    self.body.append(&#39;<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;pre&quot;</span><span class="nt">&gt;</span>%s<span class="nt">&lt;/span&gt;</span>&#39;

                                     % self.encode(token))

                else:

                    self.body.append(self.encode(token))

            elif token in (&#39;\n&#39;, &#39; &#39;):

                # Allow breaks at whitespace:

                self.body.append(token)

            else:

                # Protect runs of multiple spaces; the last space can wrap:

                self.body.append(&#39;<span class="ni">&amp;nbsp;</span>&#39; * (len(token) - 1) + &#39; &#39;)

        self.body.append(&#39;<span class="nt">&lt;/tt&gt;</span>&#39;)

        # Content already processed:

        raise nodes.SkipNode
</code></pre></div>

</details>
<h4 id="visit_literal_block">visit_literal_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_literal_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_literal_block(self, node):

        self.body.append(self.starttag(node, &#39;pre&#39;, CLASS=&#39;literal-block&#39;))
</code></pre></div>

</details>
<h4 id="visit_math">visit_math</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_math</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span><span class="p">,</span>
    <span class="n">math_env</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">visit_math</span><span class="p">(</span><span class="kr">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">math_env</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">:</span>

        <span class="err">#</span> <span class="nf">If</span> <span class="n">the</span> <span class="n">method</span> <span class="n">is</span> <span class="n">called</span> <span class="n">from</span> <span class="n">visit_math_block</span><span class="p">(),</span> <span class="n">math_env</span> <span class="o">!=</span> <span class="s">&#39;&#39;</span><span class="p">.</span>

        <span class="nf">if</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span> <span class="kr">not</span> <span class="kr">in</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_tags</span><span class="o">:</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span>

                <span class="s">&#39;math-output format &quot;</span><span class="o">%</span><span class="n">s</span><span class="s">&quot; not supported &#39;</span>

                <span class="s">&#39;falling back to &quot;</span><span class="n">latex</span><span class="s">&quot;&#39;</span><span class="o">%</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span><span class="p">)</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span> <span class="o">=</span> <span class="s">&#39;latex&#39;</span>

        <span class="n">tag</span> <span class="o">=</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_tags</span><span class="p">[</span><span class="kr">self</span><span class="p">.</span><span class="n">math_output</span><span class="p">][</span><span class="n">math_env</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">]</span>

        <span class="n">clsarg</span> <span class="o">=</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_tags</span><span class="p">[</span><span class="kr">self</span><span class="p">.</span><span class="n">math_output</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>

        <span class="err">#</span> <span class="n">LaTeX</span> <span class="n">container</span>

        <span class="n">wrappers</span> <span class="o">=</span> <span class="p">{</span><span class="err">#</span> <span class="n">math_mode</span><span class="o">:</span> <span class="p">(</span><span class="n">inline</span><span class="p">,</span> <span class="n">block</span><span class="p">)</span>

                    <span class="s">&#39;mathml&#39;</span><span class="o">:</span>  <span class="p">(</span><span class="s">&#39;$%s$&#39;</span><span class="p">,</span>   <span class="n">u</span><span class="s">&#39;\\begin{%s}\n%s\n\\end{%s}&#39;</span><span class="p">),</span>

                    <span class="s">&#39;html&#39;</span><span class="o">:</span>    <span class="p">(</span><span class="s">&#39;$%s$&#39;</span><span class="p">,</span>   <span class="n">u</span><span class="s">&#39;\\begin{%s}\n%s\n\\end{%s}&#39;</span><span class="p">),</span>

                    <span class="s">&#39;mathjax&#39;</span><span class="o">:</span> <span class="p">(</span><span class="n">r</span><span class="s">&#39;\(%s\)&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s">&#39;\\begin{%s}\n%s\n\\end{%s}&#39;</span><span class="p">),</span>

                    <span class="s">&#39;latex&#39;</span><span class="o">:</span>   <span class="p">(</span><span class="n">None</span><span class="p">,</span>     <span class="n">None</span><span class="p">),</span>

                   <span class="p">}</span>

        <span class="n">wrapper</span> <span class="o">=</span> <span class="n">wrappers</span><span class="p">[</span><span class="kr">self</span><span class="p">.</span><span class="n">math_output</span><span class="p">][</span><span class="n">math_env</span> <span class="o">!=</span> <span class="s">&#39;&#39;</span><span class="p">]</span>

        <span class="nf">if</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s">&#39;mathml&#39;</span> <span class="kr">and</span> <span class="p">(</span><span class="kr">not</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output_options</span> <span class="kr">or</span>

                                <span class="kr">self</span><span class="p">.</span><span class="n">math_output_options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;blahtexml&#39;</span><span class="p">)</span><span class="o">:</span>

            <span class="n">wrapper</span> <span class="o">=</span> <span class="n">None</span>

        <span class="err">#</span> <span class="n">get</span> <span class="kr">and</span> <span class="n">wrap</span> <span class="n">content</span>

        <span class="n">math_code</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">astext</span><span class="p">().</span><span class="n">translate</span><span class="p">(</span><span class="n">unichar2tex</span><span class="p">.</span><span class="n">uni2tex_table</span><span class="p">)</span>

        <span class="nf">if</span> <span class="n">wrapper</span><span class="o">:</span>

            <span class="n">try</span><span class="o">:</span> <span class="err">#</span> <span class="n">wrapper</span> <span class="n">with</span> <span class="n">three</span> <span class="s">&quot;%s&quot;</span>

                <span class="n">math_code</span> <span class="o">=</span> <span class="n">wrapper</span> <span class="o">%</span> <span class="p">(</span><span class="n">math_env</span><span class="p">,</span> <span class="n">math_code</span><span class="p">,</span> <span class="n">math_env</span><span class="p">)</span>

            <span class="kr">except</span> <span class="n">TypeError</span><span class="o">:</span> <span class="err">#</span> <span class="n">wrapper</span> <span class="n">with</span> <span class="n">one</span> <span class="s">&quot;%s&quot;</span>

                <span class="n">math_code</span> <span class="o">=</span> <span class="n">wrapper</span> <span class="o">%</span> <span class="n">math_code</span>

        <span class="err">#</span> <span class="n">settings</span> <span class="kr">and</span> <span class="n">conversion</span>

        <span class="nf">if</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span> <span class="kr">in</span> <span class="p">(</span><span class="s">&#39;latex&#39;</span><span class="p">,</span> <span class="s">&#39;mathjax&#39;</span><span class="p">)</span><span class="o">:</span>

            <span class="n">math_code</span> <span class="o">=</span> <span class="kr">self</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="n">math_code</span><span class="p">)</span>

        <span class="nf">if</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s">&#39;mathjax&#39;</span> <span class="kr">and</span> <span class="kr">not</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_header</span><span class="o">:</span>

            <span class="n">try</span><span class="o">:</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">mathjax_url</span> <span class="o">=</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output_options</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="kr">except</span> <span class="n">IndexError</span><span class="o">:</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">.</span><span class="n">warning</span><span class="p">(</span><span class="s">&#39;No MathJax URL specified, &#39;</span>

                    <span class="s">&#39;using local fallback (see config.html)&#39;</span><span class="p">)</span>

            <span class="err">#</span> <span class="n">append</span> <span class="n">configuration</span><span class="p">,</span> <span class="nf">if</span> <span class="kr">not</span> <span class="n">already</span> <span class="n">present</span> <span class="kr">in</span> <span class="n">the</span> <span class="n">URL</span><span class="o">:</span>

            <span class="err">#</span> <span class="n">input</span> <span class="n">LaTeX</span> <span class="n">with</span> <span class="n">AMS</span><span class="p">,</span> <span class="kr">output</span> <span class="n">common</span> <span class="n">HTML</span>

            <span class="nf">if</span> <span class="s">&#39;?&#39;</span> <span class="kr">not</span> <span class="kr">in</span> <span class="kr">self</span><span class="p">.</span><span class="n">mathjax_url</span><span class="o">:</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">mathjax_url</span> <span class="o">+=</span> <span class="s">&#39;?config=TeX-AMS_CHTML&#39;</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">math_header</span> <span class="o">=</span> <span class="p">[</span><span class="kr">self</span><span class="p">.</span><span class="n">mathjax_script</span> <span class="o">%</span> <span class="kr">self</span><span class="p">.</span><span class="n">mathjax_url</span><span class="p">]</span>

        <span class="n">elif</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s">&#39;html&#39;</span><span class="o">:</span>

            <span class="nf">if</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output_options</span> <span class="kr">and</span> <span class="kr">not</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_header</span><span class="o">:</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">math_header</span> <span class="o">=</span> <span class="p">[</span><span class="kr">self</span><span class="p">.</span><span class="n">stylesheet_call</span><span class="p">(</span>

                    <span class="n">utils</span><span class="p">.</span><span class="n">find_file_in_dirs</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="kr">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">stylesheet_dirs</span><span class="p">))</span>

                    <span class="n">for</span> <span class="n">s</span> <span class="kr">in</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output_options</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)]</span>

            <span class="err">#</span> <span class="n">TODO</span><span class="o">:</span> <span class="n">fix</span> <span class="n">display</span> <span class="n">mode</span> <span class="kr">in</span> <span class="n">matrices</span> <span class="kr">and</span> <span class="n">fractions</span>

            <span class="n">math2html</span><span class="p">.</span><span class="n">DocumentParameters</span><span class="p">.</span><span class="n">displaymode</span> <span class="o">=</span> <span class="p">(</span><span class="n">math_env</span> <span class="o">!=</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

            <span class="n">math_code</span> <span class="o">=</span> <span class="n">math2html</span><span class="p">.</span><span class="n">math2html</span><span class="p">(</span><span class="n">math_code</span><span class="p">)</span>

        <span class="n">elif</span> <span class="kr">self</span><span class="p">.</span><span class="n">math_output</span> <span class="o">==</span> <span class="s">&#39;mathml&#39;</span><span class="o">:</span>

            <span class="nf">if</span>  <span class="s">&#39;XHTML 1&#39;</span> <span class="kr">in</span> <span class="kr">self</span><span class="p">.</span><span class="n">doctype</span><span class="o">:</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">doctype</span> <span class="o">=</span> <span class="kr">self</span><span class="p">.</span><span class="n">doctype_mathml</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">content_type</span> <span class="o">=</span> <span class="kr">self</span><span class="p">.</span><span class="n">content_type_mathml</span>

            <span class="n">converter</span> <span class="o">=</span> <span class="s">&#39; &#39;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="kr">self</span><span class="p">.</span><span class="n">math_output_options</span><span class="p">).</span><span class="n">lower</span><span class="p">()</span>

            <span class="n">try</span><span class="o">:</span>

                <span class="nf">if</span> <span class="n">converter</span> <span class="o">==</span> <span class="s">&#39;latexml&#39;</span><span class="o">:</span>

                    <span class="n">math_code</span> <span class="o">=</span> <span class="n">tex2mathml_extern</span><span class="p">.</span><span class="n">latexml</span><span class="p">(</span><span class="n">math_code</span><span class="p">,</span>

                                                    <span class="kr">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">)</span>

                <span class="n">elif</span> <span class="n">converter</span> <span class="o">==</span> <span class="s">&#39;ttm&#39;</span><span class="o">:</span>

                    <span class="n">math_code</span> <span class="o">=</span> <span class="n">tex2mathml_extern</span><span class="p">.</span><span class="n">ttm</span><span class="p">(</span><span class="n">math_code</span><span class="p">,</span>

                                                    <span class="kr">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">)</span>

                <span class="n">elif</span> <span class="n">converter</span> <span class="o">==</span> <span class="s">&#39;blahtexml&#39;</span><span class="o">:</span>

                    <span class="n">math_code</span> <span class="o">=</span> <span class="n">tex2mathml_extern</span><span class="p">.</span><span class="n">blahtexml</span><span class="p">(</span><span class="n">math_code</span><span class="p">,</span>

                        <span class="n">inline</span><span class="o">=</span><span class="kr">not</span><span class="p">(</span><span class="n">math_env</span><span class="p">),</span>

                        <span class="n">reporter</span><span class="o">=</span><span class="kr">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">)</span>

                <span class="n">elif</span> <span class="kr">not</span> <span class="n">converter</span><span class="o">:</span>

                    <span class="n">math_code</span> <span class="o">=</span> <span class="n">latex2mathml</span><span class="p">.</span><span class="n">tex2mathml</span><span class="p">(</span><span class="n">math_code</span><span class="p">,</span>

                                                        <span class="n">inline</span><span class="o">=</span><span class="kr">not</span><span class="p">(</span><span class="n">math_env</span><span class="p">))</span>

                <span class="n">else</span><span class="o">:</span>

                    <span class="kr">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s">&#39;option &quot;</span><span class="o">%</span><span class="n">s</span><span class="s">&quot; not supported &#39;</span>

                    <span class="s">&#39;with math-output &quot;</span><span class="n">MathML</span><span class="s">&quot;&#39;</span><span class="p">)</span>

            <span class="kr">except</span> <span class="n">OSError</span><span class="o">:</span>

                    <span class="n">raise</span> <span class="n">OSError</span><span class="p">(</span><span class="s">&#39;is &quot;</span><span class="n">latexmlmath</span><span class="s">&quot; in your PATH?&#39;</span><span class="p">)</span>

            <span class="kr">except</span> <span class="n">SyntaxError</span> <span class="kr">as</span> <span class="n">err</span><span class="o">:</span>

                <span class="n">err_node</span> <span class="o">=</span> <span class="kr">self</span><span class="p">.</span><span class="n">document</span><span class="p">.</span><span class="n">reporter</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">base_node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">visit_system_message</span><span class="p">(</span><span class="n">err_node</span><span class="p">)</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="kr">self</span><span class="p">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s">&#39;p&#39;</span><span class="p">))</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">u</span><span class="s">&#39;,&#39;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">args</span><span class="p">))</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;&lt;/p&gt;\n&#39;</span><span class="p">)</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="kr">self</span><span class="p">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s">&#39;pre&#39;</span><span class="p">,</span>

                                               <span class="n">CLASS</span><span class="o">=</span><span class="s">&#39;literal-block&#39;</span><span class="p">))</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="kr">self</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="n">math_code</span><span class="p">))</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;\n&lt;/pre&gt;\n&#39;</span><span class="p">)</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">depart_system_message</span><span class="p">(</span><span class="n">err_node</span><span class="p">)</span>

                <span class="n">raise</span> <span class="n">nodes</span><span class="p">.</span><span class="n">SkipNode</span>

        <span class="err">#</span> <span class="n">append</span> <span class="n">to</span> <span class="n">document</span> <span class="n">body</span>

        <span class="nf">if</span> <span class="n">tag</span><span class="o">:</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="kr">self</span><span class="p">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span>

                                           <span class="n">suffix</span><span class="o">=</span><span class="s">&#39;\n&#39;</span><span class="o">*</span><span class="n">bool</span><span class="p">(</span><span class="n">math_env</span><span class="p">),</span>

                                           <span class="n">CLASS</span><span class="o">=</span><span class="n">clsarg</span><span class="p">))</span>

        <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">math_code</span><span class="p">)</span>

        <span class="nf">if</span> <span class="n">math_env</span><span class="o">:</span> <span class="err">#</span> <span class="n">block</span> <span class="n">mode</span> <span class="p">(</span><span class="n">equation</span><span class="p">,</span> <span class="n">display</span><span class="p">)</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;\n&#39;</span><span class="p">)</span>

        <span class="nf">if</span> <span class="n">tag</span><span class="o">:</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;&lt;!--%s--&gt;&#39;</span> <span class="o">%</span> <span class="n">tag</span><span class="p">)</span>

        <span class="nf">if</span> <span class="n">math_env</span><span class="o">:</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;\n&#39;</span><span class="p">)</span>

        <span class="err">#</span> <span class="n">Content</span> <span class="n">already</span> <span class="n">processed</span><span class="o">:</span>

        <span class="n">raise</span> <span class="n">nodes</span><span class="p">.</span><span class="n">SkipNode</span>
</code></pre></div>

</details>
<h4 id="visit_math_block">visit_math_block</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_math_block</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_math_block(self, node):

        math_env = pick_math_environment(node.astext())

        self.visit_math(node, math_env=math_env)
</code></pre></div>

</details>
<h4 id="visit_meta">visit_meta</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_meta</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_meta(self, node):

        meta = self.emptytag(node, &#39;meta&#39;, **node.non_default_attributes())

        self.add_meta(meta)
</code></pre></div>

</details>
<h4 id="visit_option">visit_option</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_option</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_option(self, node):

        self.body.append(self.starttag(node, &#39;span&#39;, &#39;&#39;, CLASS=&#39;option&#39;))
</code></pre></div>

</details>
<h4 id="visit_option_argument">visit_option_argument</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_option_argument</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">visit_option_argument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;delimiter&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
</code></pre></div>

</details>
<h4 id="visit_option_group">visit_option_group</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_option_group</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_option_group(self, node):

        atts = {}

        if ( self.settings.option_limit

             and len(node.astext()) &gt; self.settings.option_limit):

            atts[&#39;colspan&#39;] = 2

            self.context.append(&#39;<span class="nt">&lt;/tr&gt;</span>\n<span class="nt">&lt;tr&gt;&lt;td&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/td&gt;</span>&#39;)

        else:

            self.context.append(&#39;&#39;)

        self.body.append(

            self.starttag(node, &#39;td&#39;, CLASS=&#39;option-group&#39;, **atts))

        self.body.append(&#39;<span class="nt">&lt;kbd&gt;</span>&#39;)

        self.context.append(0)          # count number of options
</code></pre></div>

</details>
<h4 id="visit_option_list">visit_option_list</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_option_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_option_list(self, node):

        self.body.append(

              self.starttag(node, &#39;table&#39;, CLASS=&#39;docutils option-list&#39;,

                            frame=&quot;void&quot;, rules=&quot;none&quot;))

        self.body.append(&#39;&lt;col class=&quot;option&quot; /&gt;\n&#39;

                         &#39;&lt;col class=&quot;description&quot; /&gt;\n&#39;

                         &#39;&lt;tbody valign=&quot;top&quot;&gt;\n&#39;)
</code></pre></div>

</details>
<h4 id="visit_option_list_item">visit_option_list_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_option_list_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_option_list_item(self, node):

        self.body.append(self.starttag(node, &#39;tr&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_option_string">visit_option_string</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_option_string</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_option_string(self, node):

        pass
</code></pre></div>

</details>
<h4 id="visit_organization">visit_organization</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_organization</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_organization(self, node):

        self.visit_docinfo_item(node, &#39;organization&#39;)
</code></pre></div>

</details>
<h4 id="visit_paragraph">visit_paragraph</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_paragraph</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_paragraph</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">should_be_compact_paragraph</span><span class="ss">(</span><span class="nv">node</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">context</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;&#39;</span><span class="ss">)</span>

        <span class="k">else</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">p</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span><span class="ss">))</span>

            <span class="nv">self</span>.<span class="nv">context</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">&lt;/p&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_problematic">visit_problematic</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_problematic</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_problematic(self, node):

        if node.hasattr(&#39;refid&#39;):

            self.body.append(&#39;<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#%s&quot;</span><span class="nt">&gt;</span>&#39; % node[&#39;refid&#39;])

            self.context.append(&#39;<span class="nt">&lt;/a&gt;</span>&#39;)

        else:

            self.context.append(&#39;&#39;)

        self.body.append(self.starttag(node, &#39;span&#39;, &#39;&#39;, CLASS=&#39;problematic&#39;))
</code></pre></div>

</details>
<h4 id="visit_raw">visit_raw</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_raw</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="n">def</span> <span class="n">visit_raw</span><span class="p">(</span><span class="kr">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span><span class="o">:</span>

        <span class="nf">if</span> <span class="s">&#39;html&#39;</span> <span class="kr">in</span> <span class="n">node</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;format&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">).</span><span class="n">split</span><span class="p">()</span><span class="o">:</span>

            <span class="n">t</span> <span class="o">=</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">nodes</span><span class="p">.</span><span class="n">TextElement</span><span class="p">)</span> <span class="kr">and</span> <span class="s">&#39;span&#39;</span> <span class="kr">or</span> <span class="s">&#39;div&#39;</span>

            <span class="nf">if</span> <span class="n">node</span><span class="p">[</span><span class="s">&#39;classes&#39;</span><span class="p">]</span><span class="o">:</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="kr">self</span><span class="p">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">))</span>

            <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">astext</span><span class="p">())</span>

            <span class="nf">if</span> <span class="n">node</span><span class="p">[</span><span class="s">&#39;classes&#39;</span><span class="p">]</span><span class="o">:</span>

                <span class="kr">self</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;&lt;!--%s--&gt;&#39;</span> <span class="o">%</span> <span class="n">t</span><span class="p">)</span>

        <span class="err">#</span> <span class="kr">Keep</span> <span class="n">non</span><span class="o">-</span><span class="n">HTML</span> <span class="n">raw</span> <span class="n">text</span> <span class="n">out</span> <span class="kr">of</span> <span class="kr">output</span><span class="o">:</span>

        <span class="n">raise</span> <span class="n">nodes</span><span class="p">.</span><span class="n">SkipNode</span>
</code></pre></div>

</details>
<h4 id="visit_reference">visit_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_reference</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">atts</span> <span class="o">=</span> {<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>: <span class="s1">&#39;</span><span class="s">reference</span><span class="s1">&#39;</span>}

        <span class="k">if</span> <span class="s1">&#39;</span><span class="s">refuri</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>:

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">href</span><span class="s1">&#39;</span>] <span class="o">=</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">refuri</span><span class="s1">&#39;</span>]

            <span class="k">if</span> <span class="ss">(</span> <span class="nv">self</span>.<span class="nv">settings</span>.<span class="nv">cloak_email_addresses</span>

                 <span class="nv">and</span> <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">href</span><span class="s1">&#39;</span>].<span class="nv">startswith</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">mailto:</span><span class="s1">&#39;</span><span class="ss">))</span>:

                <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">href</span><span class="s1">&#39;</span>] <span class="o">=</span> <span class="nv">self</span>.<span class="nv">cloak_mailto</span><span class="ss">(</span><span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">href</span><span class="s1">&#39;</span>]<span class="ss">)</span>

                <span class="nv">self</span>.<span class="nv">in_mailto</span> <span class="o">=</span> <span class="nv">True</span>

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>] <span class="o">+=</span> <span class="s1">&#39;</span><span class="s"> external</span><span class="s1">&#39;</span>

        <span class="k">else</span>:

            <span class="nv">assert</span> <span class="s1">&#39;</span><span class="s">refid</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>, \

                   <span class="s1">&#39;</span><span class="s">References must have &quot;refuri&quot; or &quot;refid&quot; attribute.</span><span class="s1">&#39;</span>

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">href</span><span class="s1">&#39;</span>] <span class="o">=</span> <span class="s1">&#39;</span><span class="s">#</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">refid</span><span class="s1">&#39;</span>]

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>] <span class="o">+=</span> <span class="s1">&#39;</span><span class="s"> internal</span><span class="s1">&#39;</span>

        <span class="k">if</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">node</span><span class="ss">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="nv">and</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>[<span class="mi">0</span>], <span class="nv">nodes</span>.<span class="nv">image</span><span class="ss">)</span>:

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>] <span class="o">+=</span> <span class="s1">&#39;</span><span class="s"> image-reference</span><span class="s1">&#39;</span>

        <span class="k">if</span> <span class="nv">not</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">parent</span>, <span class="nv">nodes</span>.<span class="nv">TextElement</span><span class="ss">)</span>:

            <span class="nv">assert</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">node</span><span class="ss">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="nv">and</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>[<span class="mi">0</span>], <span class="nv">nodes</span>.<span class="nv">image</span><span class="ss">)</span>

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">class</span><span class="s1">&#39;</span>] <span class="o">+=</span> <span class="s1">&#39;</span><span class="s"> image-reference</span><span class="s1">&#39;</span>

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">a</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span>, <span class="o">**</span><span class="nv">atts</span><span class="ss">))</span>
</code></pre></div>

</details>
<h4 id="visit_revision">visit_revision</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_revision</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_revision(self, node):

        self.visit_docinfo_item(node, &#39;revision&#39;, meta=False)
</code></pre></div>

</details>
<h4 id="visit_row">visit_row</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_row</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_row(self, node):

        self.body.append(self.starttag(node, &#39;tr&#39;, &#39;&#39;))

        node.column = 0
</code></pre></div>

</details>
<h4 id="visit_rubric">visit_rubric</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_rubric</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_rubric(self, node):

        self.body.append(self.starttag(node, &#39;p&#39;, &#39;&#39;, CLASS=&#39;rubric&#39;))
</code></pre></div>

</details>
<h4 id="visit_section">visit_section</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_section</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_section(self, node):

        self.section_level += 1

        self.body.append(

            self.starttag(node, &#39;div&#39;, CLASS=&#39;section&#39;))
</code></pre></div>

</details>
<h4 id="visit_sidebar">visit_sidebar</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_sidebar(self, node):

        self.body.append(

            self.starttag(node, &#39;div&#39;, CLASS=&#39;sidebar&#39;))

        self.set_first_last(node)

        self.in_sidebar = True
</code></pre></div>

</details>
<h4 id="visit_status">visit_status</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_status</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_status(self, node):

        self.visit_docinfo_item(node, &#39;status&#39;, meta=False)
</code></pre></div>

</details>
<h4 id="visit_strong">visit_strong</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_strong</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_strong(self, node):

        self.body.append(self.starttag(node, &#39;strong&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_subscript">visit_subscript</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_subscript</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_subscript</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">parent</span>, <span class="nv">nodes</span>.<span class="nv">literal_block</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">span</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span>,

                                           <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">subscript</span><span class="s1">&#39;</span><span class="ss">))</span>

        <span class="k">else</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">sub</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span><span class="ss">))</span>
</code></pre></div>

</details>
<h4 id="visit_substitution_definition">visit_substitution_definition</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_substitution_definition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Internal only.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_substitution_definition(self, node):

        &quot;&quot;&quot;Internal only.&quot;&quot;&quot;

        raise nodes.SkipNode
</code></pre></div>

</details>
<h4 id="visit_substitution_reference">visit_substitution_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_substitution_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_substitution_reference(self, node):

        self.unimplemented_visit(node)
</code></pre></div>

</details>
<h4 id="visit_subtitle">visit_subtitle</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_subtitle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_subtitle(self, node):

        if isinstance(node.parent, nodes.sidebar):

            self.body.append(self.starttag(node, &#39;p&#39;, &#39;&#39;,

                                           CLASS=&#39;sidebar-subtitle&#39;))

            self.context.append(&#39;<span class="nt">&lt;/p&gt;</span>\n&#39;)

        elif isinstance(node.parent, nodes.document):

            self.body.append(self.starttag(node, &#39;h2&#39;, &#39;&#39;, CLASS=&#39;subtitle&#39;))

            self.context.append(&#39;<span class="nt">&lt;/h2&gt;</span>\n&#39;)

            self.in_document_title = len(self.body)

        elif isinstance(node.parent, nodes.section):

            tag = &#39;h%s&#39; % (self.section_level + self.initial_header_level - 1)

            self.body.append(

                self.starttag(node, tag, &#39;&#39;, CLASS=&#39;section-subtitle&#39;) +

                self.starttag({}, &#39;span&#39;, &#39;&#39;, CLASS=&#39;section-subtitle&#39;))

            self.context.append(&#39;<span class="nt">&lt;/span&gt;</span><span class="c">&lt;!--%s--&gt;</span>\n&#39; % tag)
</code></pre></div>

</details>
<h4 id="visit_superscript">visit_superscript</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_superscript</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_superscript</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">parent</span>, <span class="nv">nodes</span>.<span class="nv">literal_block</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">span</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span>,

                                           <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">superscript</span><span class="s1">&#39;</span><span class="ss">))</span>

        <span class="k">else</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">sup</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span><span class="ss">))</span>
</code></pre></div>

</details>
<h4 id="visit_system_message">visit_system_message</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_system_message</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_system_message(self, node):

        self.body.append(self.starttag(node, &#39;div&#39;, CLASS=&#39;system-message&#39;))

        self.body.append(&#39;<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;system-message-title&quot;</span><span class="nt">&gt;</span>&#39;)

        backref_text = &#39;&#39;

        if len(node[&#39;backrefs&#39;]):

            backrefs = node[&#39;backrefs&#39;]

            if len(backrefs) == 1:

                backref_text = (&#39;; <span class="nt">&lt;em&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#%s&quot;</span><span class="nt">&gt;</span>backlink<span class="nt">&lt;/a&gt;&lt;/em&gt;</span>&#39;

                                % backrefs[0])

            else:

                i = 1

                backlinks = []

                for backref in backrefs:

                    backlinks.append(&#39;<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#%s&quot;</span><span class="nt">&gt;</span>%s<span class="nt">&lt;/a&gt;</span>&#39; % (backref, i))

                    i += 1

                backref_text = (&#39;; <span class="nt">&lt;em&gt;</span>backlinks: %s<span class="nt">&lt;/em&gt;</span>&#39;

                                % &#39;, &#39;.join(backlinks))

        if node.hasattr(&#39;line&#39;):

            line = &#39;, line %s&#39; % node[&#39;line&#39;]

        else:

            line = &#39;&#39;

        self.body.append(&#39;System Message: %s/%s &#39;

                         &#39;(<span class="nt">&lt;tt</span> <span class="na">class=</span><span class="s">&quot;docutils&quot;</span><span class="nt">&gt;</span>%s<span class="nt">&lt;/tt&gt;</span>%s)%s<span class="nt">&lt;/p&gt;</span>\n&#39;

                         % (node[&#39;type&#39;], node[&#39;level&#39;],

                            self.encode(node[&#39;source&#39;]), line, backref_text))
</code></pre></div>

</details>
<h4 id="visit_table">visit_table</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_table</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_table</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="nv">self</span>.<span class="nv">context</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">compact_p</span><span class="ss">)</span>

        <span class="nv">self</span>.<span class="nv">compact_p</span> <span class="o">=</span> <span class="nv">True</span>

        <span class="nv">atts</span> <span class="o">=</span> {<span class="s1">&#39;</span><span class="s">border</span><span class="s1">&#39;</span>: <span class="mi">1</span>}

        <span class="nv">classes</span> <span class="o">=</span> [<span class="s1">&#39;</span><span class="s">docutils</span><span class="s1">&#39;</span>, <span class="nv">self</span>.<span class="nv">settings</span>.<span class="nv">table_style</span>]

        <span class="k">if</span> <span class="s1">&#39;</span><span class="s">align</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>:

            <span class="nv">classes</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">align-%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">align</span><span class="s1">&#39;</span>]<span class="ss">)</span>

        <span class="k">if</span> <span class="s1">&#39;</span><span class="s">width</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>:

            <span class="nv">atts</span>[<span class="s1">&#39;</span><span class="s">style</span><span class="s1">&#39;</span>] <span class="o">=</span> <span class="s1">&#39;</span><span class="s">width: %s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nv">node</span>[<span class="s1">&#39;</span><span class="s">width</span><span class="s1">&#39;</span>]

        <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span>

            <span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">table</span><span class="s1">&#39;</span>, <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>.<span class="nv">join</span><span class="ss">(</span><span class="nv">classes</span><span class="ss">)</span>, <span class="o">**</span><span class="nv">atts</span><span class="ss">))</span>
</code></pre></div>

</details>
<h4 id="visit_target">visit_target</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_target</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">visit_target</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">node</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">not</span> <span class="ss">(</span><span class="s1">&#39;</span><span class="s">refuri</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span> <span class="nv">or</span> <span class="s1">&#39;</span><span class="s">refid</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span>

                <span class="nv">or</span> <span class="s1">&#39;</span><span class="s">refname</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">node</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">body</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">starttag</span><span class="ss">(</span><span class="nv">node</span>, <span class="s1">&#39;</span><span class="s">span</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span>, <span class="nv">CLASS</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">target</span><span class="s1">&#39;</span><span class="ss">))</span>

            <span class="nv">self</span>.<span class="nv">context</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">&lt;/span&gt;</span><span class="s1">&#39;</span><span class="ss">)</span>

        <span class="k">else</span>:

            <span class="nv">self</span>.<span class="nv">context</span>.<span class="nv">append</span><span class="ss">(</span><span class="s1">&#39;&#39;</span><span class="ss">)</span>
</code></pre></div>

</details>
<h4 id="visit_tbody">visit_tbody</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_tbody</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_tbody(self, node):

        self.body.append(self.starttag(node, &#39;tbody&#39;, valign=&#39;top&#39;))
</code></pre></div>

</details>
<h4 id="visit_term">visit_term</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_term</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_term(self, node):

        self.body.append(self.starttag(node, &#39;dt&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_tgroup">visit_tgroup</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_tgroup</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_tgroup(self, node):

        self.colspecs = []

        node.stubs = []
</code></pre></div>

</details>
<h4 id="visit_thead">visit_thead</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_thead</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_thead(self, node):

        self.body.append(self.starttag(node, &#39;thead&#39;, valign=&#39;bottom&#39;))
</code></pre></div>

</details>
<h4 id="visit_title">visit_title</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_title</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<p>Only 6 section levels are supported by HTML.</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_title(self, node):

        &quot;&quot;&quot;Only 6 section levels are supported by HTML.&quot;&quot;&quot;

        close_tag = &#39;<span class="nt">&lt;/p&gt;</span>\n&#39;

        if isinstance(node.parent, nodes.topic):

            self.body.append(

                  self.starttag(node, &#39;p&#39;, &#39;&#39;, CLASS=&#39;topic-title&#39;))

        elif isinstance(node.parent, nodes.sidebar):

            self.body.append(

                  self.starttag(node, &#39;p&#39;, &#39;&#39;, CLASS=&#39;sidebar-title&#39;))

        elif isinstance(node.parent, nodes.Admonition):

            self.body.append(

                  self.starttag(node, &#39;p&#39;, &#39;&#39;, CLASS=&#39;admonition-title&#39;))

        elif isinstance(node.parent, nodes.table):

            self.body.append(

                  self.starttag(node, &#39;caption&#39;, &#39;&#39;))

            close_tag = &#39;<span class="nt">&lt;/caption&gt;</span>\n&#39;

        elif isinstance(node.parent, nodes.document):

            self.body.append(self.starttag(node, &#39;h1&#39;, &#39;&#39;, CLASS=&#39;title&#39;))

            close_tag = &#39;<span class="nt">&lt;/h1&gt;</span>\n&#39;

            self.in_document_title = len(self.body)

        else:

            assert isinstance(node.parent, nodes.section)

            h_level = self.section_level + self.initial_header_level - 1

            atts = {}

            if (len(node.parent) &gt;= 2 and

                isinstance(node.parent[1], nodes.subtitle)):

                atts[&#39;CLASS&#39;] = &#39;with-subtitle&#39;

            self.body.append(

                  self.starttag(node, &#39;h%s&#39; % h_level, &#39;&#39;, **atts))

            atts = {}

            if node.hasattr(&#39;refid&#39;):

                atts[&#39;class&#39;] = &#39;toc-backref&#39;

                atts[&#39;href&#39;] = &#39;#&#39; + node[&#39;refid&#39;]

            if atts:

                self.body.append(self.starttag({}, &#39;a&#39;, &#39;&#39;, **atts))

                close_tag = &#39;<span class="nt">&lt;/a&gt;</span><span class="err">&lt;</span>/h%s&gt;\n&#39; % (h_level)

            else:

                close_tag = &#39;<span class="err">&lt;</span>/h%s&gt;\n&#39; % (h_level)

        self.context.append(close_tag)
</code></pre></div>

</details>
<h4 id="visit_title_reference">visit_title_reference</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_title_reference</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_title_reference(self, node):

        self.body.append(self.starttag(node, &#39;cite&#39;, &#39;&#39;))
</code></pre></div>

</details>
<h4 id="visit_topic">visit_topic</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_topic</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_topic(self, node):

        self.body.append(self.starttag(node, &#39;div&#39;, CLASS=&#39;topic&#39;))

        self.topic_classes = node[&#39;classes&#39;]
</code></pre></div>

</details>
<h4 id="visit_transition">visit_transition</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_transition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_transition(self, node):

        self.body.append(self.emptytag(node, &#39;hr&#39;, CLASS=&#39;docutils&#39;))
</code></pre></div>

</details>
<h4 id="visit_version">visit_version</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">visit_version</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">node</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def visit_version(self, node):

        self.visit_docinfo_item(node, &#39;version&#39;, meta=False)
</code></pre></div>

</details>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../jinja_code/" title="Jinja Code" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Jinja Code
              </span>
            </div>
          </a>
        
        
          <a href="../string_utils/" title="String Utils" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                String Utils
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Powered by
        <a href="http://timothycrosley.github.io/portray">portray.</a>
        You too can
        <a href="http://timothycrosley.github.io/portray">
          portray</a>
        your Python project well using automatic documentation.
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
    
  </body>
</html>